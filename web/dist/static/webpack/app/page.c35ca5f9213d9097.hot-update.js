"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/app/components/TocBoard.js":
/*!****************************************!*\
  !*** ./src/app/components/TocBoard.js ***!
  \****************************************/
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ TocBoard; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/core */ \"(app-pages-browser)/./node_modules/@dnd-kit/core/dist/core.esm.js\");\n/* harmony import */ var _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @dnd-kit/sortable */ \"(app-pages-browser)/./node_modules/@dnd-kit/sortable/dist/sortable.esm.js\");\n/* harmony import */ var _TocListRedux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TocListRedux */ \"(app-pages-browser)/./src/app/components/TocListRedux.js\");\n/* harmony import */ var _TocNodeRedux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TocNodeRedux */ \"(app-pages-browser)/./src/app/components/TocNodeRedux.js\");\n/* harmony import */ var _TocToolbar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TocToolbar */ \"(app-pages-browser)/./src/app/components/TocToolbar.js\");\n/* harmony import */ var _TocEdges__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TocEdges */ \"(app-pages-browser)/./src/app/components/TocEdges.js\");\n/* harmony import */ var _TocEdgesLegend__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TocEdgesLegend */ \"(app-pages-browser)/./src/app/components/TocEdgesLegend.js\");\n/* harmony import */ var _utils_tocModels__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/tocModels */ \"(app-pages-browser)/./src/app/utils/tocModels.js\");\n/* harmony import */ var _styles_TocBoard_styles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../styles/TocBoard.styles */ \"(app-pages-browser)/./src/app/styles/TocBoard.styles.js\");\n/* harmony import */ var _hooks_useReduxBoard__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../hooks/useReduxBoard */ \"(app-pages-browser)/./src/app/hooks/useReduxBoard.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\nfunction TocBoard(param) {\n    let { boardId = \"default\" } = param;\n    _s();\n    // Use Redux hook for all state and operations\n    const { // State\n    board, linkMode, linkSource, activeId, dragType, draggableNodes, causalPathMode, causalPathNodes, causalPathFocalNode, sortedLists, nodes, edges, // Operations\n    initializeBoard, addIntermediateOutcome, updateList, deleteList, reorderLists, addNode, updateNode, deleteNode, reorderNodes, moveNode, duplicateNode, addEdge, updateEdge, deleteEdge, setLinkMode, setLinkSource, setActiveId, setDragType, setDraggableNodes, toggleNodeDraggable, setCausalPathMode, setCausalPathNodes, setCausalPathFocalNode, clearCausalPath, getNodesByListId, getConnectedNodes, getFilteredEdges } = (0,_hooks_useReduxBoard__WEBPACK_IMPORTED_MODULE_11__.useReduxBoard)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Initialize board with default data or fetch from API if needed\n        if (!board) {\n            const initialBoard = (0,_utils_tocModels__WEBPACK_IMPORTED_MODULE_9__.createBoard)();\n            console.log(\"Initial board created:\", initialBoard);\n            initializeBoard(initialBoard);\n        }\n    }, [\n        boardId,\n        board,\n        initializeBoard\n    ]);\n    // Link mode operations\n    const startLinkMode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setLinkMode(true);\n        setLinkSource(null);\n    }, [\n        setLinkMode,\n        setLinkSource\n    ]);\n    const exitLinkMode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setLinkMode(false);\n        setLinkSource(null);\n    }, [\n        setLinkMode,\n        setLinkSource\n    ]);\n    const handleNodeClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((nodeId)=>{\n        if (linkMode) {\n            if (!linkSource) {\n                setLinkSource(nodeId);\n            } else if (linkSource !== nodeId) {\n                addEdge(linkSource, nodeId);\n                setLinkSource(null);\n                setLinkMode(false);\n            }\n        }\n    }, [\n        linkMode,\n        linkSource,\n        addEdge,\n        setLinkSource,\n        setLinkMode\n    ]);\n    const handleNodeStartLinking = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((nodeId)=>{\n        setLinkMode(true);\n        setLinkSource(nodeId);\n    }, [\n        setLinkMode,\n        setLinkSource\n    ]);\n    // Utility functions for causal path mode\n    const getNodesByListIdWithCausalFilter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((listId)=>{\n        const listNodes = getNodesByListId(listId);\n        // Filter nodes in causal path mode\n        if (causalPathMode) {\n            return listNodes.filter((node)=>causalPathNodes.has(node.id));\n        }\n        return listNodes;\n    }, [\n        getNodesByListId,\n        causalPathMode,\n        causalPathNodes\n    ]);\n    // Get all upstream nodes recursively (nodes that lead to this node)\n    const getUpstreamNodes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(startNodeId) {\n        let visited = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : new Set();\n        if (!edges || visited.has(startNodeId)) return new Set();\n        visited.add(startNodeId);\n        const upstreamNodes = new Set();\n        // Find all edges where this node is the target\n        const incomingEdges = edges.filter((edge)=>edge.targetId === startNodeId);\n        incomingEdges.forEach((edge)=>{\n            const sourceNodeId = edge.sourceId;\n            upstreamNodes.add(sourceNodeId);\n            // Recursively find upstream nodes of the source\n            const recursiveUpstream = getUpstreamNodes(sourceNodeId, visited);\n            recursiveUpstream.forEach((nodeId)=>upstreamNodes.add(nodeId));\n        });\n        return upstreamNodes;\n    }, [\n        edges\n    ]);\n    // Get all downstream nodes recursively (nodes that this node leads to)\n    const getDownstreamNodes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(startNodeId) {\n        let visited = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : new Set();\n        if (!edges || visited.has(startNodeId)) return new Set();\n        visited.add(startNodeId);\n        const downstreamNodes = new Set();\n        // Find all edges where this node is the source\n        const outgoingEdges = edges.filter((edge)=>edge.sourceId === startNodeId);\n        outgoingEdges.forEach((edge)=>{\n            const targetNodeId = edge.targetId;\n            downstreamNodes.add(targetNodeId);\n            // Recursively find downstream nodes of the target\n            const recursiveDownstream = getDownstreamNodes(targetNodeId, visited);\n            recursiveDownstream.forEach((nodeId)=>downstreamNodes.add(nodeId));\n        });\n        return downstreamNodes;\n    }, [\n        edges\n    ]);\n    // Get all connected nodes: upstream + node + downstream\n    const getAllConnectedNodes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((startNodeId)=>{\n        if (!edges || !nodes) return new Set();\n        const upstreamNodes = getUpstreamNodes(startNodeId);\n        const downstreamNodes = getDownstreamNodes(startNodeId);\n        // Return union: [upstream, node, downstream]\n        const allConnected = new Set();\n        // Add all upstream nodes\n        upstreamNodes.forEach((nodeId)=>allConnected.add(nodeId));\n        // Add the starting node itself\n        allConnected.add(startNodeId);\n        // Add all downstream nodes\n        downstreamNodes.forEach((nodeId)=>allConnected.add(nodeId));\n        return allConnected;\n    }, [\n        edges,\n        nodes,\n        getUpstreamNodes,\n        getDownstreamNodes\n    ]);\n    // Causal path mode functions\n    const enterCausalPathMode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((nodeId)=>{\n        const connectedNodes = getAllConnectedNodes(nodeId);\n        setCausalPathNodes(connectedNodes);\n        setCausalPathFocalNode(nodeId);\n        setCausalPathMode(true);\n    }, [\n        getAllConnectedNodes,\n        setCausalPathNodes,\n        setCausalPathFocalNode,\n        setCausalPathMode\n    ]);\n    const exitCausalPathMode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        clearCausalPath();\n    }, [\n        clearCausalPath\n    ]);\n    const handleDragStart = (event)=>{\n        var _event_active_data_current;\n        setActiveId(event.active.id);\n        setDragType(((_event_active_data_current = event.active.data.current) === null || _event_active_data_current === void 0 ? void 0 : _event_active_data_current.type) || \"node\");\n    };\n    const handleDragEnd = (event)=>{\n        const { active, over } = event;\n        if (!over) {\n            setActiveId(null);\n            setDragType(null);\n            return;\n        }\n        if (dragType === \"list\") {\n            if (active.id !== over.id) {\n                reorderLists(active.id, over.id);\n            }\n        } else if (dragType === \"node\") {\n            var _active_data_current, _over_data_current;\n            const activeListId = (_active_data_current = active.data.current) === null || _active_data_current === void 0 ? void 0 : _active_data_current.listId;\n            const overListId = ((_over_data_current = over.data.current) === null || _over_data_current === void 0 ? void 0 : _over_data_current.listId) || over.id;\n            if (activeListId && overListId) {\n                if (activeListId === overListId) {\n                    // Reordering within the same list\n                    if (active.id !== over.id) {\n                        reorderNodes(activeListId, active.id, over.id);\n                    }\n                } else {\n                    // Moving between different lists\n                    moveNode(active.id, overListId);\n                }\n            }\n            // Exit draggable mode for the moved node\n            toggleNodeDraggable(active.id, false);\n        }\n        setActiveId(null);\n        setDragType(null);\n    };\n    const handleAddIntermediateOutcome = ()=>{\n        const name = prompt(\"Enter intermediate outcome name:\");\n        if (name) {\n            addIntermediateOutcome(name);\n        } else if (name === \"\") {\n            // User entered empty string, use default name\n            addIntermediateOutcome();\n        }\n    };\n    const handleBackgroundClick = (e)=>{\n        if (e.target === e.currentTarget) {\n            if (linkMode) {\n                exitLinkMode();\n            }\n        }\n    };\n    // Show loading state if board is not ready\n    if (!board) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                ..._styles_TocBoard_styles__WEBPACK_IMPORTED_MODULE_10__.tocBoardStyles.container,\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                fontSize: \"1.2rem\",\n                color: \"#6b7280\"\n            },\n            children: \"Loading Theory of Change Board...\"\n        }, void 0, false, {\n            fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocBoard.js\",\n            lineNumber: 252,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: _styles_TocBoard_styles__WEBPACK_IMPORTED_MODULE_10__.tocBoardStyles.container,\n        onClick: handleBackgroundClick,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TocToolbar__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                board: board,\n                linkMode: linkMode,\n                onStartLinkMode: startLinkMode,\n                onExitLinkMode: exitLinkMode,\n                onAddIntermediateOutcome: handleAddIntermediateOutcome\n            }, void 0, false, {\n                fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocBoard.js\",\n                lineNumber: 267,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: _styles_TocBoard_styles__WEBPACK_IMPORTED_MODULE_10__.tocBoardStyles.content,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.DndContext, {\n                    collisionDetection: _dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.closestCenter,\n                    onDragStart: handleDragStart,\n                    onDragEnd: handleDragEnd,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: _styles_TocBoard_styles__WEBPACK_IMPORTED_MODULE_10__.tocBoardStyles.boardInner,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.SortableContext, {\n                                    items: sortedLists.map((list)=>list.id),\n                                    strategy: _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.horizontalListSortingStrategy,\n                                    children: sortedLists.map((list)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TocList, {\n                                            list: list,\n                                            nodes: getNodesByListIdWithCausalFilter(list.id),\n                                            onUpdateList: updateList,\n                                            onDeleteList: deleteList,\n                                            onAddNode: (title, type)=>addNode(title, list.id, type),\n                                            onUpdateNode: updateNode,\n                                            onDeleteNode: deleteNode,\n                                            onDuplicateNode: duplicateNode,\n                                            onNodeClick: handleNodeClick,\n                                            onExitCausalPathMode: exitCausalPathMode,\n                                            linkMode: linkMode,\n                                            linkSource: linkSource,\n                                            getConnectedNodes: getConnectedNodes,\n                                            draggableNodes: draggableNodes,\n                                            onToggleNodeDraggable: toggleNodeDraggable,\n                                            onStartLinking: handleNodeStartLinking,\n                                            onShowCausalPath: enterCausalPathMode,\n                                            causalPathMode: causalPathMode,\n                                            causalPathNodes: causalPathNodes,\n                                            causalPathFocalNode: causalPathFocalNode,\n                                            allNodes: nodes,\n                                            board: board,\n                                            onAddEdge: addEdge,\n                                            onDeleteEdge: deleteEdge\n                                        }, list.id, false, {\n                                            fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocBoard.js\",\n                                            lineNumber: 287,\n                                            columnNumber: 17\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocBoard.js\",\n                                    lineNumber: 282,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TocEdges__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    edges: getFilteredEdges(),\n                                    nodes: nodes,\n                                    onUpdateEdge: updateEdge,\n                                    onDeleteEdge: deleteEdge\n                                }, void 0, false, {\n                                    fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocBoard.js\",\n                                    lineNumber: 317,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocBoard.js\",\n                            lineNumber: 281,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.DragOverlay, {\n                            children: activeId && dragType === \"node\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TocNode, {\n                                node: nodes.find((n)=>n.id === activeId),\n                                isDragging: true,\n                                linkMode: false,\n                                isLinkSource: false,\n                                allNodes: nodes,\n                                board: board\n                            }, void 0, false, {\n                                fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocBoard.js\",\n                                lineNumber: 327,\n                                columnNumber: 15\n                            }, this) : null\n                        }, void 0, false, {\n                            fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocBoard.js\",\n                            lineNumber: 325,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocBoard.js\",\n                    lineNumber: 276,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocBoard.js\",\n                lineNumber: 275,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TocEdgesLegend__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                visible: edges.length > 0\n            }, void 0, false, {\n                fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocBoard.js\",\n                lineNumber: 341,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocBoard.js\",\n        lineNumber: 266,\n        columnNumber: 5\n    }, this);\n}\n_s(TocBoard, \"OmFVuU/MqPAlZSEPKCRwB6bJFl0=\", false, function() {\n    return [\n        _hooks_useReduxBoard__WEBPACK_IMPORTED_MODULE_11__.useReduxBoard\n    ];\n});\n_c = TocBoard;\nvar _c;\n$RefreshReg$(_c, \"TocBoard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = __webpack_module__.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                __webpack_module__.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                __webpack_module__.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        __webpack_module__.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    __webpack_module__.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvY29tcG9uZW50cy9Ub2NCb2FyZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFc0Q7QUFDdUQ7QUFDMUI7QUFDekM7QUFDQTtBQUNKO0FBQ0o7QUFDWTtBQUNHO0FBQ1U7QUFDSjtBQUV4QyxTQUFTbUIsU0FBUyxLQUF1QjtRQUF2QixFQUFFQyxVQUFVLFNBQVMsRUFBRSxHQUF2Qjs7SUFDL0IsOENBQThDO0lBQzlDLE1BQU0sRUFDSixRQUFRO0lBQ1JDLEtBQUssRUFDTEMsUUFBUSxFQUNSQyxVQUFVLEVBQ1ZDLFFBQVEsRUFDUkMsUUFBUSxFQUNSQyxjQUFjLEVBQ2RDLGNBQWMsRUFDZEMsZUFBZSxFQUNmQyxtQkFBbUIsRUFDbkJDLFdBQVcsRUFDWEMsS0FBSyxFQUNMQyxLQUFLLEVBRUwsYUFBYTtJQUNiQyxlQUFlLEVBQ2ZDLHNCQUFzQixFQUN0QkMsVUFBVSxFQUNWQyxVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsT0FBTyxFQUNQQyxVQUFVLEVBQ1ZDLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxRQUFRLEVBQ1JDLGFBQWEsRUFDYkMsT0FBTyxFQUNQQyxVQUFVLEVBQ1ZDLFVBQVUsRUFDVkMsV0FBVyxFQUNYQyxhQUFhLEVBQ2JDLFdBQVcsRUFDWEMsV0FBVyxFQUNYQyxpQkFBaUIsRUFDakJDLG1CQUFtQixFQUNuQkMsaUJBQWlCLEVBQ2pCQyxrQkFBa0IsRUFDbEJDLHNCQUFzQixFQUN0QkMsZUFBZSxFQUNmQyxnQkFBZ0IsRUFDaEJDLGlCQUFpQixFQUNqQkMsZ0JBQWdCLEVBQ2pCLEdBQUd6QyxvRUFBYUE7SUFFakJoQixnREFBU0EsQ0FBQztRQUNSLGlFQUFpRTtRQUNqRSxJQUFJLENBQUNtQixPQUFPO1lBQ1YsTUFBTXVDLGVBQWU1Qyw2REFBV0E7WUFDaEM2QyxRQUFRQyxHQUFHLENBQUMsMEJBQTBCRjtZQUN0QzNCLGdCQUFnQjJCO1FBQ2xCO0lBQ0YsR0FBRztRQUFDeEM7UUFB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c0JoRDs0Q0FDdEIzRSxVQUFVQTs0Q0FDVkMsWUFBWUE7NENBQ1ptQyxtQkFBbUJBOzRDQUNuQmhDLGdCQUFnQkE7NENBQ2hCd0gsdUJBQXVCOUY7NENBQ3ZCK0YsZ0JBQWdCaEY7NENBQ2hCaUYsa0JBQWtCckQ7NENBQ2xCcEUsZ0JBQWdCQTs0Q0FDaEJDLGlCQUFpQkE7NENBQ2pCQyxxQkFBcUJBOzRDQUNyQndILFVBQVV0SDs0Q0FDVlYsT0FBT0E7NENBQ1BpSSxXQUFXMUc7NENBQ1gyRyxjQUFjekc7MkNBeEJUd0YsS0FBSzVELEVBQUU7Ozs7Ozs7Ozs7OENBNkJsQiw4REFBQzVELGlEQUFRQTtvQ0FDUGtCLE9BQU8yQjtvQ0FDUDVCLE9BQU9BO29DQUNQeUgsY0FBYzNHO29DQUNkMEcsY0FBY3pHOzs7Ozs7Ozs7Ozs7c0NBSWxCLDhEQUFDMUMsc0RBQVdBO3NDQUNUb0IsWUFBWUMsYUFBYSx1QkFDeEIsOERBQUNnSTtnQ0FDQ2pGLE1BQU16QyxNQUFNMkgsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFakYsRUFBRSxLQUFLbEQ7Z0NBQy9Cb0ksWUFBWTtnQ0FDWnRJLFVBQVU7Z0NBQ1Z1SSxjQUFjO2dDQUNkUixVQUFVdEg7Z0NBQ1ZWLE9BQU9BOzs7Ozt1Q0FFUDs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBTVYsOERBQUNOLHVEQUFjQTtnQkFBQytJLFNBQVM5SCxNQUFNK0gsTUFBTSxHQUFHOzs7Ozs7Ozs7Ozs7QUFHOUM7R0F6VXdCNUk7O1FBNkNsQkQsZ0VBQWFBOzs7S0E3Q0tDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvY29tcG9uZW50cy9Ub2NCb2FyZC5qcz9jMWExIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBEbmRDb250ZXh0LCBEcmFnT3ZlcmxheSwgdXNlU2Vuc29yLCB1c2VTZW5zb3JzLCBQb2ludGVyU2Vuc29yLCBjbG9zZXN0Q2VudGVyIH0gZnJvbSAnQGRuZC1raXQvY29yZSc7XG5pbXBvcnQgeyBTb3J0YWJsZUNvbnRleHQsIGhvcml6b250YWxMaXN0U29ydGluZ1N0cmF0ZWd5IH0gZnJvbSAnQGRuZC1raXQvc29ydGFibGUnO1xuaW1wb3J0IFRvY0xpc3RSZWR1eCBmcm9tICcuL1RvY0xpc3RSZWR1eCc7XG5pbXBvcnQgVG9jTm9kZVJlZHV4IGZyb20gJy4vVG9jTm9kZVJlZHV4JztcbmltcG9ydCBUb2NUb29sYmFyIGZyb20gJy4vVG9jVG9vbGJhcic7XG5pbXBvcnQgVG9jRWRnZXMgZnJvbSAnLi9Ub2NFZGdlcyc7XG5pbXBvcnQgVG9jRWRnZXNMZWdlbmQgZnJvbSAnLi9Ub2NFZGdlc0xlZ2VuZCc7XG5pbXBvcnQgeyBjcmVhdGVCb2FyZCB9IGZyb20gJy4uL3V0aWxzL3RvY01vZGVscyc7XG5pbXBvcnQgeyB0b2NCb2FyZFN0eWxlcyB9IGZyb20gJy4uL3N0eWxlcy9Ub2NCb2FyZC5zdHlsZXMnO1xuaW1wb3J0IHsgdXNlUmVkdXhCb2FyZCB9IGZyb20gJy4uL2hvb2tzL3VzZVJlZHV4Qm9hcmQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb2NCb2FyZCh7IGJvYXJkSWQgPSAnZGVmYXVsdCcgfSkge1xuICAvLyBVc2UgUmVkdXggaG9vayBmb3IgYWxsIHN0YXRlIGFuZCBvcGVyYXRpb25zXG4gIGNvbnN0IHtcbiAgICAvLyBTdGF0ZVxuICAgIGJvYXJkLFxuICAgIGxpbmtNb2RlLFxuICAgIGxpbmtTb3VyY2UsXG4gICAgYWN0aXZlSWQsXG4gICAgZHJhZ1R5cGUsXG4gICAgZHJhZ2dhYmxlTm9kZXMsXG4gICAgY2F1c2FsUGF0aE1vZGUsXG4gICAgY2F1c2FsUGF0aE5vZGVzLFxuICAgIGNhdXNhbFBhdGhGb2NhbE5vZGUsXG4gICAgc29ydGVkTGlzdHMsXG4gICAgbm9kZXMsXG4gICAgZWRnZXMsXG4gICAgXG4gICAgLy8gT3BlcmF0aW9uc1xuICAgIGluaXRpYWxpemVCb2FyZCxcbiAgICBhZGRJbnRlcm1lZGlhdGVPdXRjb21lLFxuICAgIHVwZGF0ZUxpc3QsXG4gICAgZGVsZXRlTGlzdCxcbiAgICByZW9yZGVyTGlzdHMsXG4gICAgYWRkTm9kZSxcbiAgICB1cGRhdGVOb2RlLFxuICAgIGRlbGV0ZU5vZGUsXG4gICAgcmVvcmRlck5vZGVzLFxuICAgIG1vdmVOb2RlLFxuICAgIGR1cGxpY2F0ZU5vZGUsXG4gICAgYWRkRWRnZSxcbiAgICB1cGRhdGVFZGdlLFxuICAgIGRlbGV0ZUVkZ2UsXG4gICAgc2V0TGlua01vZGUsXG4gICAgc2V0TGlua1NvdXJjZSxcbiAgICBzZXRBY3RpdmVJZCxcbiAgICBzZXREcmFnVHlwZSxcbiAgICBzZXREcmFnZ2FibGVOb2RlcyxcbiAgICB0b2dnbGVOb2RlRHJhZ2dhYmxlLFxuICAgIHNldENhdXNhbFBhdGhNb2RlLFxuICAgIHNldENhdXNhbFBhdGhOb2RlcyxcbiAgICBzZXRDYXVzYWxQYXRoRm9jYWxOb2RlLFxuICAgIGNsZWFyQ2F1c2FsUGF0aCxcbiAgICBnZXROb2Rlc0J5TGlzdElkLFxuICAgIGdldENvbm5lY3RlZE5vZGVzLFxuICAgIGdldEZpbHRlcmVkRWRnZXNcbiAgfSA9IHVzZVJlZHV4Qm9hcmQoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEluaXRpYWxpemUgYm9hcmQgd2l0aCBkZWZhdWx0IGRhdGEgb3IgZmV0Y2ggZnJvbSBBUEkgaWYgbmVlZGVkXG4gICAgaWYgKCFib2FyZCkge1xuICAgICAgY29uc3QgaW5pdGlhbEJvYXJkID0gY3JlYXRlQm9hcmQoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsIGJvYXJkIGNyZWF0ZWQ6JywgaW5pdGlhbEJvYXJkKTtcbiAgICAgIGluaXRpYWxpemVCb2FyZChpbml0aWFsQm9hcmQpO1xuICAgIH1cbiAgfSwgW2JvYXJkSWQsIGJvYXJkLCBpbml0aWFsaXplQm9hcmRdKTtcblxuICAvLyBMaW5rIG1vZGUgb3BlcmF0aW9uc1xuICBjb25zdCBzdGFydExpbmtNb2RlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldExpbmtNb2RlKHRydWUpO1xuICAgIHNldExpbmtTb3VyY2UobnVsbCk7XG4gIH0sIFtzZXRMaW5rTW9kZSwgc2V0TGlua1NvdXJjZV0pO1xuXG4gIGNvbnN0IGV4aXRMaW5rTW9kZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRMaW5rTW9kZShmYWxzZSk7XG4gICAgc2V0TGlua1NvdXJjZShudWxsKTtcbiAgfSwgW3NldExpbmtNb2RlLCBzZXRMaW5rU291cmNlXSk7XG5cbiAgY29uc3QgaGFuZGxlTm9kZUNsaWNrID0gdXNlQ2FsbGJhY2soKG5vZGVJZCkgPT4ge1xuICAgIGlmIChsaW5rTW9kZSkge1xuICAgICAgaWYgKCFsaW5rU291cmNlKSB7XG4gICAgICAgIHNldExpbmtTb3VyY2Uobm9kZUlkKTtcbiAgICAgIH0gZWxzZSBpZiAobGlua1NvdXJjZSAhPT0gbm9kZUlkKSB7XG4gICAgICAgIGFkZEVkZ2UobGlua1NvdXJjZSwgbm9kZUlkKTtcbiAgICAgICAgc2V0TGlua1NvdXJjZShudWxsKTtcbiAgICAgICAgc2V0TGlua01vZGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2xpbmtNb2RlLCBsaW5rU291cmNlLCBhZGRFZGdlLCBzZXRMaW5rU291cmNlLCBzZXRMaW5rTW9kZV0pO1xuXG4gIGNvbnN0IGhhbmRsZU5vZGVTdGFydExpbmtpbmcgPSB1c2VDYWxsYmFjaygobm9kZUlkKSA9PiB7XG4gICAgc2V0TGlua01vZGUodHJ1ZSk7XG4gICAgc2V0TGlua1NvdXJjZShub2RlSWQpO1xuICB9LCBbc2V0TGlua01vZGUsIHNldExpbmtTb3VyY2VdKTtcblxuICAvLyBVdGlsaXR5IGZ1bmN0aW9ucyBmb3IgY2F1c2FsIHBhdGggbW9kZVxuICBjb25zdCBnZXROb2Rlc0J5TGlzdElkV2l0aENhdXNhbEZpbHRlciA9IHVzZUNhbGxiYWNrKChsaXN0SWQpID0+IHtcbiAgICBjb25zdCBsaXN0Tm9kZXMgPSBnZXROb2Rlc0J5TGlzdElkKGxpc3RJZCk7XG4gICAgXG4gICAgLy8gRmlsdGVyIG5vZGVzIGluIGNhdXNhbCBwYXRoIG1vZGVcbiAgICBpZiAoY2F1c2FsUGF0aE1vZGUpIHtcbiAgICAgIHJldHVybiBsaXN0Tm9kZXMuZmlsdGVyKG5vZGUgPT4gY2F1c2FsUGF0aE5vZGVzLmhhcyhub2RlLmlkKSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBsaXN0Tm9kZXM7XG4gIH0sIFtnZXROb2Rlc0J5TGlzdElkLCBjYXVzYWxQYXRoTW9kZSwgY2F1c2FsUGF0aE5vZGVzXSk7XG5cbiAgLy8gR2V0IGFsbCB1cHN0cmVhbSBub2RlcyByZWN1cnNpdmVseSAobm9kZXMgdGhhdCBsZWFkIHRvIHRoaXMgbm9kZSlcbiAgY29uc3QgZ2V0VXBzdHJlYW1Ob2RlcyA9IHVzZUNhbGxiYWNrKChzdGFydE5vZGVJZCwgdmlzaXRlZCA9IG5ldyBTZXQoKSkgPT4ge1xuICAgIGlmICghZWRnZXMgfHwgdmlzaXRlZC5oYXMoc3RhcnROb2RlSWQpKSByZXR1cm4gbmV3IFNldCgpO1xuICAgIFxuICAgIHZpc2l0ZWQuYWRkKHN0YXJ0Tm9kZUlkKTtcbiAgICBjb25zdCB1cHN0cmVhbU5vZGVzID0gbmV3IFNldCgpO1xuICAgIFxuICAgIC8vIEZpbmQgYWxsIGVkZ2VzIHdoZXJlIHRoaXMgbm9kZSBpcyB0aGUgdGFyZ2V0XG4gICAgY29uc3QgaW5jb21pbmdFZGdlcyA9IGVkZ2VzLmZpbHRlcihlZGdlID0+IGVkZ2UudGFyZ2V0SWQgPT09IHN0YXJ0Tm9kZUlkKTtcbiAgICBcbiAgICBpbmNvbWluZ0VkZ2VzLmZvckVhY2goZWRnZSA9PiB7XG4gICAgICBjb25zdCBzb3VyY2VOb2RlSWQgPSBlZGdlLnNvdXJjZUlkO1xuICAgICAgdXBzdHJlYW1Ob2Rlcy5hZGQoc291cmNlTm9kZUlkKTtcbiAgICAgIFxuICAgICAgLy8gUmVjdXJzaXZlbHkgZmluZCB1cHN0cmVhbSBub2RlcyBvZiB0aGUgc291cmNlXG4gICAgICBjb25zdCByZWN1cnNpdmVVcHN0cmVhbSA9IGdldFVwc3RyZWFtTm9kZXMoc291cmNlTm9kZUlkLCB2aXNpdGVkKTtcbiAgICAgIHJlY3Vyc2l2ZVVwc3RyZWFtLmZvckVhY2gobm9kZUlkID0+IHVwc3RyZWFtTm9kZXMuYWRkKG5vZGVJZCkpO1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB1cHN0cmVhbU5vZGVzO1xuICB9LCBbZWRnZXNdKTtcblxuICAvLyBHZXQgYWxsIGRvd25zdHJlYW0gbm9kZXMgcmVjdXJzaXZlbHkgKG5vZGVzIHRoYXQgdGhpcyBub2RlIGxlYWRzIHRvKVxuICBjb25zdCBnZXREb3duc3RyZWFtTm9kZXMgPSB1c2VDYWxsYmFjaygoc3RhcnROb2RlSWQsIHZpc2l0ZWQgPSBuZXcgU2V0KCkpID0+IHtcbiAgICBpZiAoIWVkZ2VzIHx8IHZpc2l0ZWQuaGFzKHN0YXJ0Tm9kZUlkKSkgcmV0dXJuIG5ldyBTZXQoKTtcbiAgICBcbiAgICB2aXNpdGVkLmFkZChzdGFydE5vZGVJZCk7XG4gICAgY29uc3QgZG93bnN0cmVhbU5vZGVzID0gbmV3IFNldCgpO1xuICAgIFxuICAgIC8vIEZpbmQgYWxsIGVkZ2VzIHdoZXJlIHRoaXMgbm9kZSBpcyB0aGUgc291cmNlXG4gICAgY29uc3Qgb3V0Z29pbmdFZGdlcyA9IGVkZ2VzLmZpbHRlcihlZGdlID0+IGVkZ2Uuc291cmNlSWQgPT09IHN0YXJ0Tm9kZUlkKTtcbiAgICBcbiAgICBvdXRnb2luZ0VkZ2VzLmZvckVhY2goZWRnZSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXROb2RlSWQgPSBlZGdlLnRhcmdldElkO1xuICAgICAgZG93bnN0cmVhbU5vZGVzLmFkZCh0YXJnZXROb2RlSWQpO1xuICAgICAgXG4gICAgICAvLyBSZWN1cnNpdmVseSBmaW5kIGRvd25zdHJlYW0gbm9kZXMgb2YgdGhlIHRhcmdldFxuICAgICAgY29uc3QgcmVjdXJzaXZlRG93bnN0cmVhbSA9IGdldERvd25zdHJlYW1Ob2Rlcyh0YXJnZXROb2RlSWQsIHZpc2l0ZWQpO1xuICAgICAgcmVjdXJzaXZlRG93bnN0cmVhbS5mb3JFYWNoKG5vZGVJZCA9PiBkb3duc3RyZWFtTm9kZXMuYWRkKG5vZGVJZCkpO1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBkb3duc3RyZWFtTm9kZXM7XG4gIH0sIFtlZGdlc10pO1xuXG4gIC8vIEdldCBhbGwgY29ubmVjdGVkIG5vZGVzOiB1cHN0cmVhbSArIG5vZGUgKyBkb3duc3RyZWFtXG4gIGNvbnN0IGdldEFsbENvbm5lY3RlZE5vZGVzID0gdXNlQ2FsbGJhY2soKHN0YXJ0Tm9kZUlkKSA9PiB7XG4gICAgaWYgKCFlZGdlcyB8fCAhbm9kZXMpIHJldHVybiBuZXcgU2V0KCk7XG4gICAgXG4gICAgY29uc3QgdXBzdHJlYW1Ob2RlcyA9IGdldFVwc3RyZWFtTm9kZXMoc3RhcnROb2RlSWQpO1xuICAgIGNvbnN0IGRvd25zdHJlYW1Ob2RlcyA9IGdldERvd25zdHJlYW1Ob2RlcyhzdGFydE5vZGVJZCk7XG4gICAgXG4gICAgLy8gUmV0dXJuIHVuaW9uOiBbdXBzdHJlYW0sIG5vZGUsIGRvd25zdHJlYW1dXG4gICAgY29uc3QgYWxsQ29ubmVjdGVkID0gbmV3IFNldCgpO1xuICAgIFxuICAgIC8vIEFkZCBhbGwgdXBzdHJlYW0gbm9kZXNcbiAgICB1cHN0cmVhbU5vZGVzLmZvckVhY2gobm9kZUlkID0+IGFsbENvbm5lY3RlZC5hZGQobm9kZUlkKSk7XG4gICAgXG4gICAgLy8gQWRkIHRoZSBzdGFydGluZyBub2RlIGl0c2VsZlxuICAgIGFsbENvbm5lY3RlZC5hZGQoc3RhcnROb2RlSWQpO1xuICAgIFxuICAgIC8vIEFkZCBhbGwgZG93bnN0cmVhbSBub2Rlc1xuICAgIGRvd25zdHJlYW1Ob2Rlcy5mb3JFYWNoKG5vZGVJZCA9PiBhbGxDb25uZWN0ZWQuYWRkKG5vZGVJZCkpO1xuICAgIFxuICAgIHJldHVybiBhbGxDb25uZWN0ZWQ7XG4gIH0sIFtlZGdlcywgbm9kZXMsIGdldFVwc3RyZWFtTm9kZXMsIGdldERvd25zdHJlYW1Ob2Rlc10pO1xuXG4gIC8vIENhdXNhbCBwYXRoIG1vZGUgZnVuY3Rpb25zXG4gIGNvbnN0IGVudGVyQ2F1c2FsUGF0aE1vZGUgPSB1c2VDYWxsYmFjaygobm9kZUlkKSA9PiB7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSBnZXRBbGxDb25uZWN0ZWROb2Rlcyhub2RlSWQpO1xuICAgIHNldENhdXNhbFBhdGhOb2Rlcyhjb25uZWN0ZWROb2Rlcyk7XG4gICAgc2V0Q2F1c2FsUGF0aEZvY2FsTm9kZShub2RlSWQpO1xuICAgIHNldENhdXNhbFBhdGhNb2RlKHRydWUpO1xuICB9LCBbZ2V0QWxsQ29ubmVjdGVkTm9kZXMsIHNldENhdXNhbFBhdGhOb2Rlcywgc2V0Q2F1c2FsUGF0aEZvY2FsTm9kZSwgc2V0Q2F1c2FsUGF0aE1vZGVdKTtcblxuICBjb25zdCBleGl0Q2F1c2FsUGF0aE1vZGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY2xlYXJDYXVzYWxQYXRoKCk7XG4gIH0sIFtjbGVhckNhdXNhbFBhdGhdKTtcblxuICBjb25zdCBoYW5kbGVEcmFnU3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICBzZXRBY3RpdmVJZChldmVudC5hY3RpdmUuaWQpO1xuICAgIHNldERyYWdUeXBlKGV2ZW50LmFjdGl2ZS5kYXRhLmN1cnJlbnQ/LnR5cGUgfHwgJ25vZGUnKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEcmFnRW5kID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyBhY3RpdmUsIG92ZXIgfSA9IGV2ZW50O1xuICAgIFxuICAgIGlmICghb3Zlcikge1xuICAgICAgc2V0QWN0aXZlSWQobnVsbCk7XG4gICAgICBzZXREcmFnVHlwZShudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZHJhZ1R5cGUgPT09ICdsaXN0Jykge1xuICAgICAgaWYgKGFjdGl2ZS5pZCAhPT0gb3Zlci5pZCkge1xuICAgICAgICByZW9yZGVyTGlzdHMoYWN0aXZlLmlkLCBvdmVyLmlkKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRyYWdUeXBlID09PSAnbm9kZScpIHtcbiAgICAgIGNvbnN0IGFjdGl2ZUxpc3RJZCA9IGFjdGl2ZS5kYXRhLmN1cnJlbnQ/Lmxpc3RJZDtcbiAgICAgIGNvbnN0IG92ZXJMaXN0SWQgPSBvdmVyLmRhdGEuY3VycmVudD8ubGlzdElkIHx8IG92ZXIuaWQ7XG4gICAgICBcbiAgICAgIGlmIChhY3RpdmVMaXN0SWQgJiYgb3Zlckxpc3RJZCkge1xuICAgICAgICBpZiAoYWN0aXZlTGlzdElkID09PSBvdmVyTGlzdElkKSB7XG4gICAgICAgICAgLy8gUmVvcmRlcmluZyB3aXRoaW4gdGhlIHNhbWUgbGlzdFxuICAgICAgICAgIGlmIChhY3RpdmUuaWQgIT09IG92ZXIuaWQpIHtcbiAgICAgICAgICAgIHJlb3JkZXJOb2RlcyhhY3RpdmVMaXN0SWQsIGFjdGl2ZS5pZCwgb3Zlci5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE1vdmluZyBiZXR3ZWVuIGRpZmZlcmVudCBsaXN0c1xuICAgICAgICAgIG1vdmVOb2RlKGFjdGl2ZS5pZCwgb3Zlckxpc3RJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRXhpdCBkcmFnZ2FibGUgbW9kZSBmb3IgdGhlIG1vdmVkIG5vZGVcbiAgICAgIHRvZ2dsZU5vZGVEcmFnZ2FibGUoYWN0aXZlLmlkLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgc2V0QWN0aXZlSWQobnVsbCk7XG4gICAgc2V0RHJhZ1R5cGUobnVsbCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQWRkSW50ZXJtZWRpYXRlT3V0Y29tZSA9ICgpID0+IHtcbiAgICBjb25zdCBuYW1lID0gcHJvbXB0KCdFbnRlciBpbnRlcm1lZGlhdGUgb3V0Y29tZSBuYW1lOicpO1xuICAgIGlmIChuYW1lKSB7XG4gICAgICBhZGRJbnRlcm1lZGlhdGVPdXRjb21lKG5hbWUpO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJycpIHtcbiAgICAgIC8vIFVzZXIgZW50ZXJlZCBlbXB0eSBzdHJpbmcsIHVzZSBkZWZhdWx0IG5hbWVcbiAgICAgIGFkZEludGVybWVkaWF0ZU91dGNvbWUoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQmFja2dyb3VuZENsaWNrID0gKGUpID0+IHtcbiAgICBpZiAoZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuICAgICAgaWYgKGxpbmtNb2RlKSB7XG4gICAgICAgIGV4aXRMaW5rTW9kZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBTaG93IGxvYWRpbmcgc3RhdGUgaWYgYm9hcmQgaXMgbm90IHJlYWR5XG4gIGlmICghYm9hcmQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAuLi50b2NCb2FyZFN0eWxlcy5jb250YWluZXIsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgZm9udFNpemU6ICcxLjJyZW0nLFxuICAgICAgICBjb2xvcjogJyM2YjcyODAnXG4gICAgICB9fT5cbiAgICAgICAgTG9hZGluZyBUaGVvcnkgb2YgQ2hhbmdlIEJvYXJkLi4uXG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt0b2NCb2FyZFN0eWxlcy5jb250YWluZXJ9IG9uQ2xpY2s9e2hhbmRsZUJhY2tncm91bmRDbGlja30+XG4gICAgICA8VG9jVG9vbGJhclxuICAgICAgICBib2FyZD17Ym9hcmR9XG4gICAgICAgIGxpbmtNb2RlPXtsaW5rTW9kZX1cbiAgICAgICAgb25TdGFydExpbmtNb2RlPXtzdGFydExpbmtNb2RlfVxuICAgICAgICBvbkV4aXRMaW5rTW9kZT17ZXhpdExpbmtNb2RlfVxuICAgICAgICBvbkFkZEludGVybWVkaWF0ZU91dGNvbWU9e2hhbmRsZUFkZEludGVybWVkaWF0ZU91dGNvbWV9XG4gICAgICAvPlxuXG4gICAgICA8ZGl2IHN0eWxlPXt0b2NCb2FyZFN0eWxlcy5jb250ZW50fT5cbiAgICAgICAgPERuZENvbnRleHRcbiAgICAgICAgICBjb2xsaXNpb25EZXRlY3Rpb249e2Nsb3Nlc3RDZW50ZXJ9XG4gICAgICAgICAgb25EcmFnU3RhcnQ9e2hhbmRsZURyYWdTdGFydH1cbiAgICAgICAgICBvbkRyYWdFbmQ9e2hhbmRsZURyYWdFbmR9XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt0b2NCb2FyZFN0eWxlcy5ib2FyZElubmVyfT5cbiAgICAgICAgICAgIDxTb3J0YWJsZUNvbnRleHQgXG4gICAgICAgICAgICAgIGl0ZW1zPXtzb3J0ZWRMaXN0cy5tYXAobGlzdCA9PiBsaXN0LmlkKX0gXG4gICAgICAgICAgICAgIHN0cmF0ZWd5PXtob3Jpem9udGFsTGlzdFNvcnRpbmdTdHJhdGVneX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3NvcnRlZExpc3RzLm1hcCgobGlzdCkgPT4gKFxuICAgICAgICAgICAgICAgIDxUb2NMaXN0XG4gICAgICAgICAgICAgICAgICBrZXk9e2xpc3QuaWR9XG4gICAgICAgICAgICAgICAgICBsaXN0PXtsaXN0fVxuICAgICAgICAgICAgICAgICAgbm9kZXM9e2dldE5vZGVzQnlMaXN0SWRXaXRoQ2F1c2FsRmlsdGVyKGxpc3QuaWQpfVxuICAgICAgICAgICAgICAgICAgb25VcGRhdGVMaXN0PXt1cGRhdGVMaXN0fVxuICAgICAgICAgICAgICAgICAgb25EZWxldGVMaXN0PXtkZWxldGVMaXN0fVxuICAgICAgICAgICAgICAgICAgb25BZGROb2RlPXsodGl0bGUsIHR5cGUpID0+IGFkZE5vZGUodGl0bGUsIGxpc3QuaWQsIHR5cGUpfVxuICAgICAgICAgICAgICAgICAgb25VcGRhdGVOb2RlPXt1cGRhdGVOb2RlfVxuICAgICAgICAgICAgICAgICAgb25EZWxldGVOb2RlPXtkZWxldGVOb2RlfVxuICAgICAgICAgICAgICAgICAgb25EdXBsaWNhdGVOb2RlPXtkdXBsaWNhdGVOb2RlfVxuICAgICAgICAgICAgICAgICAgb25Ob2RlQ2xpY2s9e2hhbmRsZU5vZGVDbGlja31cbiAgICAgICAgICAgICAgICAgIG9uRXhpdENhdXNhbFBhdGhNb2RlPXtleGl0Q2F1c2FsUGF0aE1vZGV9XG4gICAgICAgICAgICAgICAgICBsaW5rTW9kZT17bGlua01vZGV9XG4gICAgICAgICAgICAgICAgICBsaW5rU291cmNlPXtsaW5rU291cmNlfVxuICAgICAgICAgICAgICAgICAgZ2V0Q29ubmVjdGVkTm9kZXM9e2dldENvbm5lY3RlZE5vZGVzfVxuICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlTm9kZXM9e2RyYWdnYWJsZU5vZGVzfVxuICAgICAgICAgICAgICAgICAgb25Ub2dnbGVOb2RlRHJhZ2dhYmxlPXt0b2dnbGVOb2RlRHJhZ2dhYmxlfVxuICAgICAgICAgICAgICAgICAgb25TdGFydExpbmtpbmc9e2hhbmRsZU5vZGVTdGFydExpbmtpbmd9XG4gICAgICAgICAgICAgICAgICBvblNob3dDYXVzYWxQYXRoPXtlbnRlckNhdXNhbFBhdGhNb2RlfVxuICAgICAgICAgICAgICAgICAgY2F1c2FsUGF0aE1vZGU9e2NhdXNhbFBhdGhNb2RlfVxuICAgICAgICAgICAgICAgICAgY2F1c2FsUGF0aE5vZGVzPXtjYXVzYWxQYXRoTm9kZXN9XG4gICAgICAgICAgICAgICAgICBjYXVzYWxQYXRoRm9jYWxOb2RlPXtjYXVzYWxQYXRoRm9jYWxOb2RlfVxuICAgICAgICAgICAgICAgICAgYWxsTm9kZXM9e25vZGVzfVxuICAgICAgICAgICAgICAgICAgYm9hcmQ9e2JvYXJkfVxuICAgICAgICAgICAgICAgICAgb25BZGRFZGdlPXthZGRFZGdlfVxuICAgICAgICAgICAgICAgICAgb25EZWxldGVFZGdlPXtkZWxldGVFZGdlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9Tb3J0YWJsZUNvbnRleHQ+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxUb2NFZGdlc1xuICAgICAgICAgICAgICBlZGdlcz17Z2V0RmlsdGVyZWRFZGdlcygpfVxuICAgICAgICAgICAgICBub2Rlcz17bm9kZXN9XG4gICAgICAgICAgICAgIG9uVXBkYXRlRWRnZT17dXBkYXRlRWRnZX1cbiAgICAgICAgICAgICAgb25EZWxldGVFZGdlPXtkZWxldGVFZGdlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxEcmFnT3ZlcmxheT5cbiAgICAgICAgICAgIHthY3RpdmVJZCAmJiBkcmFnVHlwZSA9PT0gJ25vZGUnID8gKFxuICAgICAgICAgICAgICA8VG9jTm9kZVxuICAgICAgICAgICAgICAgIG5vZGU9e25vZGVzLmZpbmQobiA9PiBuLmlkID09PSBhY3RpdmVJZCl9XG4gICAgICAgICAgICAgICAgaXNEcmFnZ2luZz17dHJ1ZX1cbiAgICAgICAgICAgICAgICBsaW5rTW9kZT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgaXNMaW5rU291cmNlPXtmYWxzZX1cbiAgICAgICAgICAgICAgICBhbGxOb2Rlcz17bm9kZXN9XG4gICAgICAgICAgICAgICAgYm9hcmQ9e2JvYXJkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPC9EcmFnT3ZlcmxheT5cbiAgICAgICAgPC9EbmRDb250ZXh0PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHsvKiBGaXhlZCBsZWdlbmQgdGhhdCBkb2Vzbid0IHNjcm9sbCB3aXRoIGNvbnRlbnQgKi99XG4gICAgICA8VG9jRWRnZXNMZWdlbmQgdmlzaWJsZT17ZWRnZXMubGVuZ3RoID4gMH0gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsIkRuZENvbnRleHQiLCJEcmFnT3ZlcmxheSIsInVzZVNlbnNvciIsInVzZVNlbnNvcnMiLCJQb2ludGVyU2Vuc29yIiwiY2xvc2VzdENlbnRlciIsIlNvcnRhYmxlQ29udGV4dCIsImhvcml6b250YWxMaXN0U29ydGluZ1N0cmF0ZWd5IiwiVG9jTGlzdFJlZHV4IiwiVG9jTm9kZVJlZHV4IiwiVG9jVG9vbGJhciIsIlRvY0VkZ2VzIiwiVG9jRWRnZXNMZWdlbmQiLCJjcmVhdGVCb2FyZCIsInRvY0JvYXJkU3R5bGVzIiwidXNlUmVkdXhCb2FyZCIsIlRvY0JvYXJkIiwiYm9hcmRJZCIsImJvYXJkIiwibGlua01vZGUiLCJsaW5rU291cmNlIiwiYWN0aXZlSWQiLCJkcmFnVHlwZSIsImRyYWdnYWJsZU5vZGVzIiwiY2F1c2FsUGF0aE1vZGUiLCJjYXVzYWxQYXRoTm9kZXMiLCJjYXVzYWxQYXRoRm9jYWxOb2RlIiwic29ydGVkTGlzdHMiLCJub2RlcyIsImVkZ2VzIiwiaW5pdGlhbGl6ZUJvYXJkIiwiYWRkSW50ZXJtZWRpYXRlT3V0Y29tZSIsInVwZGF0ZUxpc3QiLCJkZWxldGVMaXN0IiwicmVvcmRlckxpc3RzIiwiYWRkTm9kZSIsInVwZGF0ZU5vZGUiLCJkZWxldGVOb2RlIiwicmVvcmRlck5vZGVzIiwibW92ZU5vZGUiLCJkdXBsaWNhdGVOb2RlIiwiYWRkRWRnZSIsInVwZGF0ZUVkZ2UiLCJkZWxldGVFZGdlIiwic2V0TGlua01vZGUiLCJzZXRMaW5rU291cmNlIiwic2V0QWN0aXZlSWQiLCJzZXREcmFnVHlwZSIsInNldERyYWdnYWJsZU5vZGVzIiwidG9nZ2xlTm9kZURyYWdnYWJsZSIsInNldENhdXNhbFBhdGhNb2RlIiwic2V0Q2F1c2FsUGF0aE5vZGVzIiwic2V0Q2F1c2FsUGF0aEZvY2FsTm9kZSIsImNsZWFyQ2F1c2FsUGF0aCIsImdldE5vZGVzQnlMaXN0SWQiLCJnZXRDb25uZWN0ZWROb2RlcyIsImdldEZpbHRlcmVkRWRnZXMiLCJpbml0aWFsQm9hcmQiLCJjb25zb2xlIiwibG9nIiwic3RhcnRMaW5rTW9kZSIsImV4aXRMaW5rTW9kZSIsImhhbmRsZU5vZGVDbGljayIsIm5vZGVJZCIsImhhbmRsZU5vZGVTdGFydExpbmtpbmciLCJnZXROb2Rlc0J5TGlzdElkV2l0aENhdXNhbEZpbHRlciIsImxpc3RJZCIsImxpc3ROb2RlcyIsImZpbHRlciIsIm5vZGUiLCJoYXMiLCJpZCIsImdldFVwc3RyZWFtTm9kZXMiLCJzdGFydE5vZGVJZCIsInZpc2l0ZWQiLCJTZXQiLCJhZGQiLCJ1cHN0cmVhbU5vZGVzIiwiaW5jb21pbmdFZGdlcyIsImVkZ2UiLCJ0YXJnZXRJZCIsImZvckVhY2giLCJzb3VyY2VOb2RlSWQiLCJzb3VyY2VJZCIsInJlY3Vyc2l2ZVVwc3RyZWFtIiwiZ2V0RG93bnN0cmVhbU5vZGVzIiwiZG93bnN0cmVhbU5vZGVzIiwib3V0Z29pbmdFZGdlcyIsInRhcmdldE5vZGVJZCIsInJlY3Vyc2l2ZURvd25zdHJlYW0iLCJnZXRBbGxDb25uZWN0ZWROb2RlcyIsImFsbENvbm5lY3RlZCIsImVudGVyQ2F1c2FsUGF0aE1vZGUiLCJjb25uZWN0ZWROb2RlcyIsImV4aXRDYXVzYWxQYXRoTW9kZSIsImhhbmRsZURyYWdTdGFydCIsImV2ZW50IiwiYWN0aXZlIiwiZGF0YSIsImN1cnJlbnQiLCJ0eXBlIiwiaGFuZGxlRHJhZ0VuZCIsIm92ZXIiLCJhY3RpdmVMaXN0SWQiLCJvdmVyTGlzdElkIiwiaGFuZGxlQWRkSW50ZXJtZWRpYXRlT3V0Y29tZSIsIm5hbWUiLCJwcm9tcHQiLCJoYW5kbGVCYWNrZ3JvdW5kQ2xpY2siLCJlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImRpdiIsInN0eWxlIiwiY29udGFpbmVyIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsImZvbnRTaXplIiwiY29sb3IiLCJvbkNsaWNrIiwib25TdGFydExpbmtNb2RlIiwib25FeGl0TGlua01vZGUiLCJvbkFkZEludGVybWVkaWF0ZU91dGNvbWUiLCJjb250ZW50IiwiY29sbGlzaW9uRGV0ZWN0aW9uIiwib25EcmFnU3RhcnQiLCJvbkRyYWdFbmQiLCJib2FyZElubmVyIiwiaXRlbXMiLCJtYXAiLCJsaXN0Iiwic3RyYXRlZ3kiLCJUb2NMaXN0Iiwib25VcGRhdGVMaXN0Iiwib25EZWxldGVMaXN0Iiwib25BZGROb2RlIiwidGl0bGUiLCJvblVwZGF0ZU5vZGUiLCJvbkRlbGV0ZU5vZGUiLCJvbkR1cGxpY2F0ZU5vZGUiLCJvbk5vZGVDbGljayIsIm9uRXhpdENhdXNhbFBhdGhNb2RlIiwib25Ub2dnbGVOb2RlRHJhZ2dhYmxlIiwib25TdGFydExpbmtpbmciLCJvblNob3dDYXVzYWxQYXRoIiwiYWxsTm9kZXMiLCJvbkFkZEVkZ2UiLCJvbkRlbGV0ZUVkZ2UiLCJvblVwZGF0ZUVkZ2UiLCJUb2NOb2RlIiwiZmluZCIsIm4iLCJpc0RyYWdnaW5nIiwiaXNMaW5rU291cmNlIiwidmlzaWJsZSIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/components/TocBoard.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/components/TocListRedux.js":
/*!********************************************!*\
  !*** ./src/app/components/TocListRedux.js ***!
  \********************************************/
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ TocListRedux; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/sortable */ \"(app-pages-browser)/./node_modules/@dnd-kit/sortable/dist/sortable.esm.js\");\n/* harmony import */ var _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @dnd-kit/utilities */ \"(app-pages-browser)/./node_modules/@dnd-kit/utilities/dist/utilities.esm.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-redux */ \"(app-pages-browser)/./node_modules/react-redux/dist/react-redux.mjs\");\n/* harmony import */ var _TocListHeader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TocListHeader */ \"(app-pages-browser)/./src/app/components/TocListHeader.js\");\n/* harmony import */ var _TocListContent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TocListContent */ \"(app-pages-browser)/./src/app/components/TocListContent.js\");\n/* harmony import */ var _TocListSettingsModal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TocListSettingsModal */ \"(app-pages-browser)/./src/app/components/TocListSettingsModal.js\");\n/* harmony import */ var _utils_tocModels__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/tocModels */ \"(app-pages-browser)/./src/app/utils/tocModels.js\");\n/* harmony import */ var _styles_TocList_styles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../styles/TocList.styles */ \"(app-pages-browser)/./src/app/styles/TocList.styles.js\");\n/* harmony import */ var _hooks_useReduxBoard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hooks/useReduxBoard */ \"(app-pages-browser)/./src/app/hooks/useReduxBoard.js\");\n/* harmony import */ var _store_selectors_boardSelectors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../store/selectors/boardSelectors */ \"(app-pages-browser)/./src/app/store/selectors/boardSelectors.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\nfunction TocListRedux(param) {\n    let { listId } = param;\n    _s();\n    var _s1 = $RefreshSig$();\n    // Use Redux selectors to get data\n    const list = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>{\n        var _state_board_board_lists, _state_board_board;\n        return (_state_board_board = state.board.board) === null || _state_board_board === void 0 ? void 0 : (_state_board_board_lists = _state_board_board.lists) === null || _state_board_board_lists === void 0 ? void 0 : _state_board_board_lists.find((l)=>l.id === listId);\n    });\n    const nodes = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>(0,_store_selectors_boardSelectors__WEBPACK_IMPORTED_MODULE_10__.selectSortedNodesByListId)(state, listId));\n    const linkMode = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>state.board.linkMode);\n    const linkSource = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>state.board.linkSource);\n    const draggableNodes = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>state.board.draggableNodes);\n    const causalPathMode = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>state.board.causalPathMode);\n    const causalPathNodes = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>state.board.causalPathNodes);\n    const causalPathFocalNode = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>state.board.causalPathFocalNode);\n    const allNodes = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>{\n        var _state_board_board;\n        return ((_state_board_board = state.board.board) === null || _state_board_board === void 0 ? void 0 : _state_board_board.nodes) || [];\n    });\n    const board = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>state.board.board);\n    // Use Redux operations\n    const { updateList, deleteList, addNode, updateNode, deleteNode, duplicateNode, addEdge, deleteEdge, toggleNodeDraggable, setCausalPathMode, setCausalPathNodes, setCausalPathFocalNode, clearCausalPath } = (0,_hooks_useReduxBoard__WEBPACK_IMPORTED_MODULE_9__.useReduxBoard)();\n    // local UI state\n    const [hoveredButton, setHoveredButton] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isEditingTitle, setIsEditingTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [editTitle, setEditTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((list === null || list === void 0 ? void 0 : list.name) || \"\");\n    const [isAddingNode, setIsAddingNode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newNodeTitle, setNewNodeTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isModalOpen, setIsModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [hoveredColor, setHoveredColor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Update edit title when list name changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setEditTitle((list === null || list === void 0 ? void 0 : list.name) || \"\");\n    }, [\n        list === null || list === void 0 ? void 0 : list.name\n    ]);\n    // close modal on ESC\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onEsc = (e)=>e.key === \"Escape\" && setIsModalOpen(false);\n        if (isModalOpen) window.addEventListener(\"keydown\", onEsc);\n        return ()=>window.removeEventListener(\"keydown\", onEsc);\n    }, [\n        isModalOpen\n    ]);\n    if (!list) {\n        return null; // List not found\n    }\n    const { attributes, listeners, setNodeRef, transform, transition, isDragging } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__.useSortable)({\n        id: list.id,\n        data: {\n            type: \"list\",\n            listId: list.id\n        }\n    });\n    const style = {\n        transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_3__.CSS.Transform.toString(transform),\n        transition,\n        opacity: isDragging ? 0.8 : 1\n    };\n    const wrapperStyle = {\n        ..._styles_TocList_styles__WEBPACK_IMPORTED_MODULE_8__.tocListStyles.wrapper,\n        ...style,\n        backgroundColor: list.color || \"#f3f4f6\"\n    };\n    const handleTitleEdit = ()=>{\n        if (editTitle.trim()) {\n            updateList(list.id, {\n                name: editTitle.trim()\n            });\n            setIsEditingTitle(false);\n        }\n    };\n    const handleAddNode = ()=>{\n        if (newNodeTitle.trim()) {\n            addNode(newNodeTitle.trim(), list.id, _utils_tocModels__WEBPACK_IMPORTED_MODULE_7__.NODE_TYPES.ACTIVITY);\n            setNewNodeTitle(\"\");\n            setIsAddingNode(false);\n        }\n    };\n    const handleNodeClick = (nodeId)=>{\n        if (linkMode) {\n            if (!linkSource) {\n            // Start linking from this node\n            // This would need to be handled by the parent or through Redux\n            } else if (linkSource !== nodeId) {\n                // Complete the link\n                addEdge(linkSource, nodeId);\n            // Clear link mode - this should be handled by Redux actions\n            }\n        }\n    };\n    const getConnectedNodes = (nodeId)=>{\n        _s1();\n        return (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>(0,_store_selectors_boardSelectors__WEBPACK_IMPORTED_MODULE_10__.selectConnectedNodes)(state, nodeId));\n    };\n    _s1(getConnectedNodes, \"nKHvd/QB6hocKEk0fSJoSYcCyR8=\", false, function() {\n        return [\n            react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector\n        ];\n    });\n    const handleToggleNodeDraggable = (nodeId, isDraggable)=>{\n        toggleNodeDraggable(nodeId, isDraggable);\n    };\n    const handleStartLinking = (nodeId)=>{\n    // This should be handled by Redux actions\n    // setLinkMode(true);\n    // setLinkSource(nodeId);\n    };\n    const handleShowCausalPath = (nodeId)=>{\n        // Get all connected nodes recursively\n        const getAllConnectedNodes = function(startNodeId) {\n            let visited = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : new Set();\n            if (visited.has(startNodeId)) return new Set();\n            visited.add(startNodeId);\n            const connectedNodes = new Set();\n            // Find all edges where this node is involved\n            const edges = (board === null || board === void 0 ? void 0 : board.edges) || [];\n            edges.forEach((edge)=>{\n                if (edge.sourceId === startNodeId) {\n                    connectedNodes.add(edge.targetId);\n                    const recursiveConnected = getAllConnectedNodes(edge.targetId, visited);\n                    recursiveConnected.forEach((nodeId)=>connectedNodes.add(nodeId));\n                }\n                if (edge.targetId === startNodeId) {\n                    connectedNodes.add(edge.sourceId);\n                    const recursiveConnected = getAllConnectedNodes(edge.sourceId, visited);\n                    recursiveConnected.forEach((nodeId)=>connectedNodes.add(nodeId));\n                }\n            });\n            return connectedNodes;\n        };\n        const connectedNodes = getAllConnectedNodes(nodeId);\n        connectedNodes.add(nodeId); // Include the focal node itself\n        setCausalPathNodes(connectedNodes);\n        setCausalPathFocalNode(nodeId);\n        setCausalPathMode(true);\n    };\n    const handleExitCausalPathMode = ()=>{\n        clearCausalPath();\n    };\n    // Filter nodes in causal path mode\n    const filteredNodes = causalPathMode ? nodes.filter((node)=>causalPathNodes.has(node.id)) : nodes;\n    const colors = [\n        \"#3b82f6\",\n        \"#10b981\",\n        \"#f59e0b\",\n        \"#ef4444\",\n        \"#8b5cf6\",\n        \"#6b7280\"\n    ];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: setNodeRef,\n        style: wrapperStyle,\n        \"data-type\": list.type,\n        ...attributes,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TocListHeader__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                list: list,\n                nodesCount: filteredNodes.length,\n                isEditingTitle: isEditingTitle,\n                editTitle: editTitle,\n                setIsEditingTitle: setIsEditingTitle,\n                setEditTitle: setEditTitle,\n                handleTitleEdit: handleTitleEdit,\n                hoveredButton: hoveredButton,\n                setHoveredButton: setHoveredButton,\n                listeners: listeners,\n                attributes: attributes,\n                onSettingsClick: (e)=>{\n                    console.log(\"Settings button clicked!\");\n                    e.stopPropagation();\n                    setIsModalOpen(true);\n                },\n                onDeleteList: ()=>deleteList(list.id),\n                isDragging: isDragging\n            }, void 0, false, {\n                fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocListRedux.js\",\n                lineNumber: 186,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TocListContent__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                nodes: filteredNodes,\n                listColor: list.color,\n                isAddingNode: isAddingNode,\n                setIsAddingNode: setIsAddingNode,\n                newNodeTitle: newNodeTitle,\n                setNewNodeTitle: setNewNodeTitle,\n                handleAddNode: handleAddNode,\n                hoveredButton: hoveredButton,\n                setHoveredButton: setHoveredButton,\n                onUpdateNode: updateNode,\n                onDeleteNode: deleteNode,\n                onDuplicateNode: duplicateNode,\n                onNodeClick: handleNodeClick,\n                linkMode: linkMode,\n                linkSource: linkSource,\n                getConnectedNodes: getConnectedNodes,\n                draggableNodes: draggableNodes,\n                onToggleNodeDraggable: handleToggleNodeDraggable,\n                onStartLinking: handleStartLinking,\n                onShowCausalPath: handleShowCausalPath,\n                onExitCausalPathMode: handleExitCausalPathMode,\n                causalPathMode: causalPathMode,\n                causalPathNodes: causalPathNodes,\n                causalPathFocalNode: causalPathFocalNode,\n                allNodes: allNodes,\n                board: board,\n                onAddEdge: addEdge,\n                onDeleteEdge: deleteEdge\n            }, void 0, false, {\n                fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocListRedux.js\",\n                lineNumber: 207,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TocListSettingsModal__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                isModalOpen: isModalOpen,\n                onClose: ()=>setIsModalOpen(false),\n                list: list,\n                onUpdateList: updateList,\n                onDeleteList: ()=>{\n                    deleteList(list.id);\n                    setIsModalOpen(false);\n                },\n                colors: colors,\n                hoveredColor: hoveredColor,\n                setHoveredColor: setHoveredColor\n            }, void 0, false, {\n                fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocListRedux.js\",\n                lineNumber: 238,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocListRedux.js\",\n        lineNumber: 185,\n        columnNumber: 5\n    }, this);\n}\n_s(TocListRedux, \"Icak4GdQqQ/8XptWxnhdjisnmrc=\", false, function() {\n    return [\n        react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector,\n        _hooks_useReduxBoard__WEBPACK_IMPORTED_MODULE_9__.useReduxBoard,\n        _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__.useSortable\n    ];\n});\n_c = TocListRedux;\nvar _c;\n$RefreshReg$(_c, \"TocListRedux\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = __webpack_module__.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                __webpack_module__.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                __webpack_module__.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        __webpack_module__.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    __webpack_module__.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvY29tcG9uZW50cy9Ub2NMaXN0UmVkdXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRW1EO0FBQ0g7QUFDUDtBQUNDO0FBQ0U7QUFDRTtBQUNZO0FBQ1Y7QUFDUztBQUNGO0FBQzZDO0FBRXJGLFNBQVNjLGFBQWEsS0FBVTtRQUFWLEVBQUVDLE1BQU0sRUFBRSxHQUFWOzs7SUFDbkMsa0NBQWtDO0lBQ2xDLE1BQU1DLE9BQU9YLHlEQUFXQSxDQUFDWSxDQUFBQTtZQUFTQSwwQkFBQUE7Z0JBQUFBLHFCQUFBQSxNQUFNQyxLQUFLLENBQUNBLEtBQUssY0FBakJELDBDQUFBQSwyQkFBQUEsbUJBQW1CRSxLQUFLLGNBQXhCRiwrQ0FBQUEseUJBQTBCRyxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLEVBQUUsS0FBS1A7O0lBQy9FLE1BQU1RLFFBQVFsQix5REFBV0EsQ0FBQ1ksQ0FBQUEsUUFBU0wsMkZBQXlCQSxDQUFDSyxPQUFPRjtJQUNwRSxNQUFNUyxXQUFXbkIseURBQVdBLENBQUNZLENBQUFBLFFBQVNBLE1BQU1DLEtBQUssQ0FBQ00sUUFBUTtJQUMxRCxNQUFNQyxhQUFhcEIseURBQVdBLENBQUNZLENBQUFBLFFBQVNBLE1BQU1DLEtBQUssQ0FBQ08sVUFBVTtJQUM5RCxNQUFNQyxpQkFBaUJyQix5REFBV0EsQ0FBQ1ksQ0FBQUEsUUFBU0EsTUFBTUMsS0FBSyxDQUFDUSxjQUFjO0lBQ3RFLE1BQU1DLGlCQUFpQnRCLHlEQUFXQSxDQUFDWSxDQUFBQSxRQUFTQSxNQUFNQyxLQUFLLENBQUNTLGNBQWM7SUFDdEUsTUFBTUMsa0JBQWtCdkIseURBQVdBLENBQUNZLENBQUFBLFFBQVNBLE1BQU1DLEtBQUssQ0FBQ1UsZUFBZTtJQUN4RSxNQUFNQyxzQkFBc0J4Qix5REFBV0EsQ0FBQ1ksQ0FBQUEsUUFBU0EsTUFBTUMsS0FBSyxDQUFDVyxtQkFBbUI7SUFDaEYsTUFBTUMsV0FBV3pC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V0E7OztLQTlET1ciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2FwcC9jb21wb25lbnRzL1RvY0xpc3RSZWR1eC5qcz84YTBkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTb3J0YWJsZSB9IGZyb20gJ0BkbmQta2l0L3NvcnRhYmxlJztcbmltcG9ydCB7IENTUyB9IGZyb20gJ0BkbmQta2l0L3V0aWxpdGllcyc7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBUb2NMaXN0SGVhZGVyIGZyb20gJy4vVG9jTGlzdEhlYWRlcic7XG5pbXBvcnQgVG9jTGlzdENvbnRlbnQgZnJvbSAnLi9Ub2NMaXN0Q29udGVudCc7XG5pbXBvcnQgVG9jTGlzdFNldHRpbmdzTW9kYWwgZnJvbSAnLi9Ub2NMaXN0U2V0dGluZ3NNb2RhbCc7XG5pbXBvcnQgeyBOT0RFX1RZUEVTIH0gZnJvbSAnLi4vdXRpbHMvdG9jTW9kZWxzJztcbmltcG9ydCB7IHRvY0xpc3RTdHlsZXMgfSBmcm9tICcuLi9zdHlsZXMvVG9jTGlzdC5zdHlsZXMnO1xuaW1wb3J0IHsgdXNlUmVkdXhCb2FyZCB9IGZyb20gJy4uL2hvb2tzL3VzZVJlZHV4Qm9hcmQnO1xuaW1wb3J0IHsgc2VsZWN0U29ydGVkTm9kZXNCeUxpc3RJZCwgc2VsZWN0Q29ubmVjdGVkTm9kZXMgfSBmcm9tICcuLi9zdG9yZS9zZWxlY3RvcnMvYm9hcmRTZWxlY3RvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb2NMaXN0UmVkdXgoeyBsaXN0SWQgfSkge1xuICAvLyBVc2UgUmVkdXggc2VsZWN0b3JzIHRvIGdldCBkYXRhXG4gIGNvbnN0IGxpc3QgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5ib2FyZC5ib2FyZD8ubGlzdHM/LmZpbmQobCA9PiBsLmlkID09PSBsaXN0SWQpKTtcbiAgY29uc3Qgbm9kZXMgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzZWxlY3RTb3J0ZWROb2Rlc0J5TGlzdElkKHN0YXRlLCBsaXN0SWQpKTtcbiAgY29uc3QgbGlua01vZGUgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5ib2FyZC5saW5rTW9kZSk7XG4gIGNvbnN0IGxpbmtTb3VyY2UgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5ib2FyZC5saW5rU291cmNlKTtcbiAgY29uc3QgZHJhZ2dhYmxlTm9kZXMgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5ib2FyZC5kcmFnZ2FibGVOb2Rlcyk7XG4gIGNvbnN0IGNhdXNhbFBhdGhNb2RlID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuYm9hcmQuY2F1c2FsUGF0aE1vZGUpO1xuICBjb25zdCBjYXVzYWxQYXRoTm9kZXMgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5ib2FyZC5jYXVzYWxQYXRoTm9kZXMpO1xuICBjb25zdCBjYXVzYWxQYXRoRm9jYWxOb2RlID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuYm9hcmQuY2F1c2FsUGF0aEZvY2FsTm9kZSk7XG4gIGNvbnN0IGFsbE5vZGVzID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuYm9hcmQuYm9hcmQ/Lm5vZGVzIHx8IFtdKTtcbiAgY29uc3QgYm9hcmQgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5ib2FyZC5ib2FyZCk7XG5cbiAgLy8gVXNlIFJlZHV4IG9wZXJhdGlvbnNcbiAgY29uc3Qge1xuICAgIHVwZGF0ZUxpc3QsXG4gICAgZGVsZXRlTGlzdCxcbiAgICBhZGROb2RlLFxuICAgIHVwZGF0ZU5vZGUsXG4gICAgZGVsZXRlTm9kZSxcbiAgICBkdXBsaWNhdGVOb2RlLFxuICAgIGFkZEVkZ2UsXG4gICAgZGVsZXRlRWRnZSxcbiAgICB0b2dnbGVOb2RlRHJhZ2dhYmxlLFxuICAgIHNldENhdXNhbFBhdGhNb2RlLFxuICAgIHNldENhdXNhbFBhdGhOb2RlcyxcbiAgICBzZXRDYXVzYWxQYXRoRm9jYWxOb2RlLFxuICAgIGNsZWFyQ2F1c2FsUGF0aFxuICB9ID0gdXNlUmVkdXhCb2FyZCgpO1xuXG4gIC8vIGxvY2FsIFVJIHN0YXRlXG4gIGNvbnN0IFtob3ZlcmVkQnV0dG9uLCBzZXRIb3ZlcmVkQnV0dG9uXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbaXNFZGl0aW5nVGl0bGUsIHNldElzRWRpdGluZ1RpdGxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VkaXRUaXRsZSwgc2V0RWRpdFRpdGxlXSA9IHVzZVN0YXRlKGxpc3Q/Lm5hbWUgfHwgJycpO1xuICBjb25zdCBbaXNBZGRpbmdOb2RlLCBzZXRJc0FkZGluZ05vZGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3Tm9kZVRpdGxlLCBzZXROZXdOb2RlVGl0bGVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbaXNNb2RhbE9wZW4sIHNldElzTW9kYWxPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2hvdmVyZWRDb2xvciwgc2V0SG92ZXJlZENvbG9yXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIC8vIFVwZGF0ZSBlZGl0IHRpdGxlIHdoZW4gbGlzdCBuYW1lIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRFZGl0VGl0bGUobGlzdD8ubmFtZSB8fCAnJyk7XG4gIH0sIFtsaXN0Py5uYW1lXSk7XG5cbiAgLy8gY2xvc2UgbW9kYWwgb24gRVNDXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb25Fc2MgPSAoZSkgPT4gZS5rZXkgPT09ICdFc2NhcGUnICYmIHNldElzTW9kYWxPcGVuKGZhbHNlKTtcbiAgICBpZiAoaXNNb2RhbE9wZW4pIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25Fc2MpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uRXNjKTtcbiAgfSwgW2lzTW9kYWxPcGVuXSk7XG5cbiAgaWYgKCFsaXN0KSB7XG4gICAgcmV0dXJuIG51bGw7IC8vIExpc3Qgbm90IGZvdW5kXG4gIH1cblxuICBjb25zdCB7XG4gICAgYXR0cmlidXRlcyxcbiAgICBsaXN0ZW5lcnMsXG4gICAgc2V0Tm9kZVJlZixcbiAgICB0cmFuc2Zvcm0sXG4gICAgdHJhbnNpdGlvbixcbiAgICBpc0RyYWdnaW5nXG4gIH0gPSB1c2VTb3J0YWJsZSh7XG4gICAgaWQ6IGxpc3QuaWQsXG4gICAgZGF0YToge1xuICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgbGlzdElkOiBsaXN0LmlkXG4gICAgfVxuICB9KTtcblxuICBjb25zdCBzdHlsZSA9IHtcbiAgICB0cmFuc2Zvcm06IENTUy5UcmFuc2Zvcm0udG9TdHJpbmcodHJhbnNmb3JtKSxcbiAgICB0cmFuc2l0aW9uLFxuICAgIG9wYWNpdHk6IGlzRHJhZ2dpbmcgPyAwLjggOiAxXG4gIH07XG5cbiAgY29uc3Qgd3JhcHBlclN0eWxlID0ge1xuICAgIC4uLnRvY0xpc3RTdHlsZXMud3JhcHBlcixcbiAgICAuLi5zdHlsZSxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IGxpc3QuY29sb3IgfHwgJyNmM2Y0ZjYnXG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVGl0bGVFZGl0ID0gKCkgPT4ge1xuICAgIGlmIChlZGl0VGl0bGUudHJpbSgpKSB7XG4gICAgICB1cGRhdGVMaXN0KGxpc3QuaWQsIHsgbmFtZTogZWRpdFRpdGxlLnRyaW0oKSB9KTtcbiAgICAgIHNldElzRWRpdGluZ1RpdGxlKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQWRkTm9kZSA9ICgpID0+IHtcbiAgICBpZiAobmV3Tm9kZVRpdGxlLnRyaW0oKSkge1xuICAgICAgYWRkTm9kZShuZXdOb2RlVGl0bGUudHJpbSgpLCBsaXN0LmlkLCBOT0RFX1RZUEVTLkFDVElWSVRZKTtcbiAgICAgIHNldE5ld05vZGVUaXRsZSgnJyk7XG4gICAgICBzZXRJc0FkZGluZ05vZGUoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVOb2RlQ2xpY2sgPSAobm9kZUlkKSA9PiB7XG4gICAgaWYgKGxpbmtNb2RlKSB7XG4gICAgICBpZiAoIWxpbmtTb3VyY2UpIHtcbiAgICAgICAgLy8gU3RhcnQgbGlua2luZyBmcm9tIHRoaXMgbm9kZVxuICAgICAgICAvLyBUaGlzIHdvdWxkIG5lZWQgdG8gYmUgaGFuZGxlZCBieSB0aGUgcGFyZW50IG9yIHRocm91Z2ggUmVkdXhcbiAgICAgIH0gZWxzZSBpZiAobGlua1NvdXJjZSAhPT0gbm9kZUlkKSB7XG4gICAgICAgIC8vIENvbXBsZXRlIHRoZSBsaW5rXG4gICAgICAgIGFkZEVkZ2UobGlua1NvdXJjZSwgbm9kZUlkKTtcbiAgICAgICAgLy8gQ2xlYXIgbGluayBtb2RlIC0gdGhpcyBzaG91bGQgYmUgaGFuZGxlZCBieSBSZWR1eCBhY3Rpb25zXG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldENvbm5lY3RlZE5vZGVzID0gKG5vZGVJZCkgPT4ge1xuICAgIHJldHVybiB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzZWxlY3RDb25uZWN0ZWROb2RlcyhzdGF0ZSwgbm9kZUlkKSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVG9nZ2xlTm9kZURyYWdnYWJsZSA9IChub2RlSWQsIGlzRHJhZ2dhYmxlKSA9PiB7XG4gICAgdG9nZ2xlTm9kZURyYWdnYWJsZShub2RlSWQsIGlzRHJhZ2dhYmxlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdGFydExpbmtpbmcgPSAobm9kZUlkKSA9PiB7XG4gICAgLy8gVGhpcyBzaG91bGQgYmUgaGFuZGxlZCBieSBSZWR1eCBhY3Rpb25zXG4gICAgLy8gc2V0TGlua01vZGUodHJ1ZSk7XG4gICAgLy8gc2V0TGlua1NvdXJjZShub2RlSWQpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNob3dDYXVzYWxQYXRoID0gKG5vZGVJZCkgPT4ge1xuICAgIC8vIEdldCBhbGwgY29ubmVjdGVkIG5vZGVzIHJlY3Vyc2l2ZWx5XG4gICAgY29uc3QgZ2V0QWxsQ29ubmVjdGVkTm9kZXMgPSAoc3RhcnROb2RlSWQsIHZpc2l0ZWQgPSBuZXcgU2V0KCkpID0+IHtcbiAgICAgIGlmICh2aXNpdGVkLmhhcyhzdGFydE5vZGVJZCkpIHJldHVybiBuZXcgU2V0KCk7XG4gICAgICBcbiAgICAgIHZpc2l0ZWQuYWRkKHN0YXJ0Tm9kZUlkKTtcbiAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gbmV3IFNldCgpO1xuICAgICAgXG4gICAgICAvLyBGaW5kIGFsbCBlZGdlcyB3aGVyZSB0aGlzIG5vZGUgaXMgaW52b2x2ZWRcbiAgICAgIGNvbnN0IGVkZ2VzID0gYm9hcmQ/LmVkZ2VzIHx8IFtdO1xuICAgICAgZWRnZXMuZm9yRWFjaChlZGdlID0+IHtcbiAgICAgICAgaWYgKGVkZ2Uuc291cmNlSWQgPT09IHN0YXJ0Tm9kZUlkKSB7XG4gICAgICAgICAgY29ubmVjdGVkTm9kZXMuYWRkKGVkZ2UudGFyZ2V0SWQpO1xuICAgICAgICAgIGNvbnN0IHJlY3Vyc2l2ZUNvbm5lY3RlZCA9IGdldEFsbENvbm5lY3RlZE5vZGVzKGVkZ2UudGFyZ2V0SWQsIHZpc2l0ZWQpO1xuICAgICAgICAgIHJlY3Vyc2l2ZUNvbm5lY3RlZC5mb3JFYWNoKG5vZGVJZCA9PiBjb25uZWN0ZWROb2Rlcy5hZGQobm9kZUlkKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVkZ2UudGFyZ2V0SWQgPT09IHN0YXJ0Tm9kZUlkKSB7XG4gICAgICAgICAgY29ubmVjdGVkTm9kZXMuYWRkKGVkZ2Uuc291cmNlSWQpO1xuICAgICAgICAgIGNvbnN0IHJlY3Vyc2l2ZUNvbm5lY3RlZCA9IGdldEFsbENvbm5lY3RlZE5vZGVzKGVkZ2Uuc291cmNlSWQsIHZpc2l0ZWQpO1xuICAgICAgICAgIHJlY3Vyc2l2ZUNvbm5lY3RlZC5mb3JFYWNoKG5vZGVJZCA9PiBjb25uZWN0ZWROb2Rlcy5hZGQobm9kZUlkKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4gY29ubmVjdGVkTm9kZXM7XG4gICAgfTtcblxuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gZ2V0QWxsQ29ubmVjdGVkTm9kZXMobm9kZUlkKTtcbiAgICBjb25uZWN0ZWROb2Rlcy5hZGQobm9kZUlkKTsgLy8gSW5jbHVkZSB0aGUgZm9jYWwgbm9kZSBpdHNlbGZcbiAgICBcbiAgICBzZXRDYXVzYWxQYXRoTm9kZXMoY29ubmVjdGVkTm9kZXMpO1xuICAgIHNldENhdXNhbFBhdGhGb2NhbE5vZGUobm9kZUlkKTtcbiAgICBzZXRDYXVzYWxQYXRoTW9kZSh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVFeGl0Q2F1c2FsUGF0aE1vZGUgPSAoKSA9PiB7XG4gICAgY2xlYXJDYXVzYWxQYXRoKCk7XG4gIH07XG5cbiAgLy8gRmlsdGVyIG5vZGVzIGluIGNhdXNhbCBwYXRoIG1vZGVcbiAgY29uc3QgZmlsdGVyZWROb2RlcyA9IGNhdXNhbFBhdGhNb2RlIFxuICAgID8gbm9kZXMuZmlsdGVyKG5vZGUgPT4gY2F1c2FsUGF0aE5vZGVzLmhhcyhub2RlLmlkKSlcbiAgICA6IG5vZGVzO1xuXG4gIGNvbnN0IGNvbG9ycyA9IFsnIzNiODJmNicsJyMxMGI5ODEnLCcjZjU5ZTBiJywnI2VmNDQ0NCcsJyM4YjVjZjYnLCcjNmI3MjgwJ107XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHJlZj17c2V0Tm9kZVJlZn0gc3R5bGU9e3dyYXBwZXJTdHlsZX0gZGF0YS10eXBlPXtsaXN0LnR5cGV9IHsuLi5hdHRyaWJ1dGVzfT5cbiAgICAgIDxUb2NMaXN0SGVhZGVyXG4gICAgICAgIGxpc3Q9e2xpc3R9XG4gICAgICAgIG5vZGVzQ291bnQ9e2ZpbHRlcmVkTm9kZXMubGVuZ3RofVxuICAgICAgICBpc0VkaXRpbmdUaXRsZT17aXNFZGl0aW5nVGl0bGV9XG4gICAgICAgIGVkaXRUaXRsZT17ZWRpdFRpdGxlfVxuICAgICAgICBzZXRJc0VkaXRpbmdUaXRsZT17c2V0SXNFZGl0aW5nVGl0bGV9XG4gICAgICAgIHNldEVkaXRUaXRsZT17c2V0RWRpdFRpdGxlfVxuICAgICAgICBoYW5kbGVUaXRsZUVkaXQ9e2hhbmRsZVRpdGxlRWRpdH1cbiAgICAgICAgaG92ZXJlZEJ1dHRvbj17aG92ZXJlZEJ1dHRvbn1cbiAgICAgICAgc2V0SG92ZXJlZEJ1dHRvbj17c2V0SG92ZXJlZEJ1dHRvbn1cbiAgICAgICAgbGlzdGVuZXJzPXtsaXN0ZW5lcnN9XG4gICAgICAgIGF0dHJpYnV0ZXM9e2F0dHJpYnV0ZXN9XG4gICAgICAgIG9uU2V0dGluZ3NDbGljaz17ZSA9PiB7IFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXR0aW5ncyBidXR0b24gY2xpY2tlZCEnKTsgXG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgXG4gICAgICAgICAgc2V0SXNNb2RhbE9wZW4odHJ1ZSk7IFxuICAgICAgICB9fVxuICAgICAgICBvbkRlbGV0ZUxpc3Q9eygpID0+IGRlbGV0ZUxpc3QobGlzdC5pZCl9XG4gICAgICAgIGlzRHJhZ2dpbmc9e2lzRHJhZ2dpbmd9XG4gICAgICAvPlxuXG4gICAgICA8VG9jTGlzdENvbnRlbnRcbiAgICAgICAgbm9kZXM9e2ZpbHRlcmVkTm9kZXN9XG4gICAgICAgIGxpc3RDb2xvcj17bGlzdC5jb2xvcn1cbiAgICAgICAgaXNBZGRpbmdOb2RlPXtpc0FkZGluZ05vZGV9XG4gICAgICAgIHNldElzQWRkaW5nTm9kZT17c2V0SXNBZGRpbmdOb2RlfVxuICAgICAgICBuZXdOb2RlVGl0bGU9e25ld05vZGVUaXRsZX1cbiAgICAgICAgc2V0TmV3Tm9kZVRpdGxlPXtzZXROZXdOb2RlVGl0bGV9XG4gICAgICAgIGhhbmRsZUFkZE5vZGU9e2hhbmRsZUFkZE5vZGV9XG4gICAgICAgIGhvdmVyZWRCdXR0b249e2hvdmVyZWRCdXR0b259XG4gICAgICAgIHNldEhvdmVyZWRCdXR0b249e3NldEhvdmVyZWRCdXR0b259XG4gICAgICAgIG9uVXBkYXRlTm9kZT17dXBkYXRlTm9kZX1cbiAgICAgICAgb25EZWxldGVOb2RlPXtkZWxldGVOb2RlfVxuICAgICAgICBvbkR1cGxpY2F0ZU5vZGU9e2R1cGxpY2F0ZU5vZGV9XG4gICAgICAgIG9uTm9kZUNsaWNrPXtoYW5kbGVOb2RlQ2xpY2t9XG4gICAgICAgIGxpbmtNb2RlPXtsaW5rTW9kZX1cbiAgICAgICAgbGlua1NvdXJjZT17bGlua1NvdXJjZX1cbiAgICAgICAgZ2V0Q29ubmVjdGVkTm9kZXM9e2dldENvbm5lY3RlZE5vZGVzfVxuICAgICAgICBkcmFnZ2FibGVOb2Rlcz17ZHJhZ2dhYmxlTm9kZXN9XG4gICAgICAgIG9uVG9nZ2xlTm9kZURyYWdnYWJsZT17aGFuZGxlVG9nZ2xlTm9kZURyYWdnYWJsZX1cbiAgICAgICAgb25TdGFydExpbmtpbmc9e2hhbmRsZVN0YXJ0TGlua2luZ31cbiAgICAgICAgb25TaG93Q2F1c2FsUGF0aD17aGFuZGxlU2hvd0NhdXNhbFBhdGh9XG4gICAgICAgIG9uRXhpdENhdXNhbFBhdGhNb2RlPXtoYW5kbGVFeGl0Q2F1c2FsUGF0aE1vZGV9XG4gICAgICAgIGNhdXNhbFBhdGhNb2RlPXtjYXVzYWxQYXRoTW9kZX1cbiAgICAgICAgY2F1c2FsUGF0aE5vZGVzPXtjYXVzYWxQYXRoTm9kZXN9XG4gICAgICAgIGNhdXNhbFBhdGhGb2NhbE5vZGU9e2NhdXNhbFBhdGhGb2NhbE5vZGV9XG4gICAgICAgIGFsbE5vZGVzPXthbGxOb2Rlc31cbiAgICAgICAgYm9hcmQ9e2JvYXJkfVxuICAgICAgICBvbkFkZEVkZ2U9e2FkZEVkZ2V9XG4gICAgICAgIG9uRGVsZXRlRWRnZT17ZGVsZXRlRWRnZX1cbiAgICAgIC8+XG4gICAgICBcbiAgICAgIDxUb2NMaXN0U2V0dGluZ3NNb2RhbFxuICAgICAgICBpc01vZGFsT3Blbj17aXNNb2RhbE9wZW59XG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzTW9kYWxPcGVuKGZhbHNlKX1cbiAgICAgICAgbGlzdD17bGlzdH1cbiAgICAgICAgb25VcGRhdGVMaXN0PXt1cGRhdGVMaXN0fVxuICAgICAgICBvbkRlbGV0ZUxpc3Q9eygpID0+IHtcbiAgICAgICAgICBkZWxldGVMaXN0KGxpc3QuaWQpO1xuICAgICAgICAgIHNldElzTW9kYWxPcGVuKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgY29sb3JzPXtjb2xvcnN9XG4gICAgICAgIGhvdmVyZWRDb2xvcj17aG92ZXJlZENvbG9yfVxuICAgICAgICBzZXRIb3ZlcmVkQ29sb3I9e3NldEhvdmVyZWRDb2xvcn1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVNvcnRhYmxlIiwiQ1NTIiwidXNlU2VsZWN0b3IiLCJUb2NMaXN0SGVhZGVyIiwiVG9jTGlzdENvbnRlbnQiLCJUb2NMaXN0U2V0dGluZ3NNb2RhbCIsIk5PREVfVFlQRVMiLCJ0b2NMaXN0U3R5bGVzIiwidXNlUmVkdXhCb2FyZCIsInNlbGVjdFNvcnRlZE5vZGVzQnlMaXN0SWQiLCJzZWxlY3RDb25uZWN0ZWROb2RlcyIsIlRvY0xpc3RSZWR1eCIsImxpc3RJZCIsImxpc3QiLCJzdGF0ZSIsImJvYXJkIiwibGlzdHMiLCJmaW5kIiwibCIsImlkIiwibm9kZXMiLCJsaW5rTW9kZSIsImxpbmtTb3VyY2UiLCJkcmFnZ2FibGVOb2RlcyIsImNhdXNhbFBhdGhNb2RlIiwiY2F1c2FsUGF0aE5vZGVzIiwiY2F1c2FsUGF0aEZvY2FsTm9kZSIsImFsbE5vZGVzIiwidXBkYXRlTGlzdCIsImRlbGV0ZUxpc3QiLCJhZGROb2RlIiwidXBkYXRlTm9kZSIsImRlbGV0ZU5vZGUiLCJkdXBsaWNhdGVOb2RlIiwiYWRkRWRnZSIsImRlbGV0ZUVkZ2UiLCJ0b2dnbGVOb2RlRHJhZ2dhYmxlIiwic2V0Q2F1c2FsUGF0aE1vZGUiLCJzZXRDYXVzYWxQYXRoTm9kZXMiLCJzZXRDYXVzYWxQYXRoRm9jYWxOb2RlIiwiY2xlYXJDYXVzYWxQYXRoIiwiaG92ZXJlZEJ1dHRvbiIsInNldEhvdmVyZWRCdXR0b24iLCJpc0VkaXRpbmdUaXRsZSIsInNldElzRWRpdGluZ1RpdGxlIiwiZWRpdFRpdGxlIiwic2V0RWRpdFRpdGxlIiwibmFtZSIsImlzQWRkaW5nTm9kZSIsInNldElzQWRkaW5nTm9kZSIsIm5ld05vZGVUaXRsZSIsInNldE5ld05vZGVUaXRsZSIsImlzTW9kYWxPcGVuIiwic2V0SXNNb2RhbE9wZW4iLCJob3ZlcmVkQ29sb3IiLCJzZXRIb3ZlcmVkQ29sb3IiLCJvbkVzYyIsImUiLCJrZXkiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImF0dHJpYnV0ZXMiLCJsaXN0ZW5lcnMiLCJzZXROb2RlUmVmIiwidHJhbnNmb3JtIiwidHJhbnNpdGlvbiIsImlzRHJhZ2dpbmciLCJkYXRhIiwidHlwZSIsInN0eWxlIiwiVHJhbnNmb3JtIiwidG9TdHJpbmciLCJvcGFjaXR5Iiwid3JhcHBlclN0eWxlIiwid3JhcHBlciIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiaGFuZGxlVGl0bGVFZGl0IiwidHJpbSIsImhhbmRsZUFkZE5vZGUiLCJBQ1RJVklUWSIsImhhbmRsZU5vZGVDbGljayIsIm5vZGVJZCIsImdldENvbm5lY3RlZE5vZGVzIiwiaGFuZGxlVG9nZ2xlTm9kZURyYWdnYWJsZSIsImlzRHJhZ2dhYmxlIiwiaGFuZGxlU3RhcnRMaW5raW5nIiwiaGFuZGxlU2hvd0NhdXNhbFBhdGgiLCJnZXRBbGxDb25uZWN0ZWROb2RlcyIsInN0YXJ0Tm9kZUlkIiwidmlzaXRlZCIsIlNldCIsImhhcyIsImFkZCIsImNvbm5lY3RlZE5vZGVzIiwiZWRnZXMiLCJmb3JFYWNoIiwiZWRnZSIsInNvdXJjZUlkIiwidGFyZ2V0SWQiLCJyZWN1cnNpdmVDb25uZWN0ZWQiLCJoYW5kbGVFeGl0Q2F1c2FsUGF0aE1vZGUiLCJmaWx0ZXJlZE5vZGVzIiwiZmlsdGVyIiwibm9kZSIsImNvbG9ycyIsImRpdiIsInJlZiIsImRhdGEtdHlwZSIsIm5vZGVzQ291bnQiLCJsZW5ndGgiLCJvblNldHRpbmdzQ2xpY2siLCJjb25zb2xlIiwibG9nIiwic3RvcFByb3BhZ2F0aW9uIiwib25EZWxldGVMaXN0IiwibGlzdENvbG9yIiwib25VcGRhdGVOb2RlIiwib25EZWxldGVOb2RlIiwib25EdXBsaWNhdGVOb2RlIiwib25Ob2RlQ2xpY2siLCJvblRvZ2dsZU5vZGVEcmFnZ2FibGUiLCJvblN0YXJ0TGlua2luZyIsIm9uU2hvd0NhdXNhbFBhdGgiLCJvbkV4aXRDYXVzYWxQYXRoTW9kZSIsIm9uQWRkRWRnZSIsIm9uRGVsZXRlRWRnZSIsIm9uQ2xvc2UiLCJvblVwZGF0ZUxpc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/components/TocListRedux.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/components/TocNodeRedux.js":
/*!********************************************!*\
  !*** ./src/app/components/TocNodeRedux.js ***!
  \********************************************/
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ TocNodeRedux; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/sortable */ \"(app-pages-browser)/./node_modules/@dnd-kit/sortable/dist/sortable.esm.js\");\n/* harmony import */ var _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @dnd-kit/utilities */ \"(app-pages-browser)/./node_modules/@dnd-kit/utilities/dist/utilities.esm.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-redux */ \"(app-pages-browser)/./node_modules/react-redux/dist/react-redux.mjs\");\n/* harmony import */ var _styles_TocNode_styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../styles/TocNode.styles */ \"(app-pages-browser)/./src/app/styles/TocNode.styles.js\");\n/* harmony import */ var _styles_TocToolbar_styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/TocToolbar.styles */ \"(app-pages-browser)/./src/app/styles/TocToolbar.styles.js\");\n/* harmony import */ var _TocNodeEditForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TocNodeEditForm */ \"(app-pages-browser)/./src/app/components/TocNodeEditForm.js\");\n/* harmony import */ var _TocNodeContent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TocNodeContent */ \"(app-pages-browser)/./src/app/components/TocNodeContent.js\");\n/* harmony import */ var _TocNodeContextMenu__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TocNodeContextMenu */ \"(app-pages-browser)/./src/app/components/TocNodeContextMenu.js\");\n/* harmony import */ var _TocNodeEditDialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./TocNodeEditDialog */ \"(app-pages-browser)/./src/app/components/TocNodeEditDialog.js\");\n/* harmony import */ var _TocNodeFooter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./TocNodeFooter */ \"(app-pages-browser)/./src/app/components/TocNodeFooter.js\");\n/* harmony import */ var _hooks_useReduxBoard__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../hooks/useReduxBoard */ \"(app-pages-browser)/./src/app/hooks/useReduxBoard.js\");\n/* harmony import */ var _store_selectors_boardSelectors__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../store/selectors/boardSelectors */ \"(app-pages-browser)/./src/app/store/selectors/boardSelectors.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction TocNodeRedux(param) {\n    let { nodeId, isDragging = false } = param;\n    _s();\n    // Use Redux selectors to get data\n    const node = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state)=>(0,_store_selectors_boardSelectors__WEBPACK_IMPORTED_MODULE_12__.selectNodeById)(state, nodeId));\n    const linkMode = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state)=>state.board.linkMode);\n    const isLinkSource = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state)=>(0,_store_selectors_boardSelectors__WEBPACK_IMPORTED_MODULE_12__.selectIsNodeLinkSource)(state, nodeId));\n    const connectedNodes = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state)=>(0,_store_selectors_boardSelectors__WEBPACK_IMPORTED_MODULE_12__.selectConnectedNodes)(state, nodeId));\n    const isDraggable = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state)=>(0,_store_selectors_boardSelectors__WEBPACK_IMPORTED_MODULE_12__.selectIsNodeDraggable)(state, nodeId));\n    const causalPathMode = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state)=>state.board.causalPathMode);\n    const isInCausalPath = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state)=>(0,_store_selectors_boardSelectors__WEBPACK_IMPORTED_MODULE_12__.selectIsNodeInCausalPath)(state, nodeId));\n    const isCausalPathFocalNode = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state)=>(0,_store_selectors_boardSelectors__WEBPACK_IMPORTED_MODULE_12__.selectIsNodeCausalPathFocal)(state, nodeId));\n    const allNodes = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state)=>{\n        var _state_board_board;\n        return ((_state_board_board = state.board.board) === null || _state_board_board === void 0 ? void 0 : _state_board_board.nodes) || [];\n    });\n    const board = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state)=>state.board.board);\n    // Use Redux operations\n    const { updateNode, deleteNode, duplicateNode, addEdge, deleteEdge, toggleNodeDraggable, setLinkMode, setLinkSource } = (0,_hooks_useReduxBoard__WEBPACK_IMPORTED_MODULE_11__.useReduxBoard)();\n    const [hoveredButton, setHoveredButton] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [editTitle, setEditTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((node === null || node === void 0 ? void 0 : node.title) || \"\");\n    const [editDescription, setEditDescription] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((node === null || node === void 0 ? void 0 : node.description) || \"\");\n    const [showDetails, setShowDetails] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isHovered, setIsHovered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showContextMenu, setShowContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [contextMenuPosition, setContextMenuPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [showEditDialog, setShowEditDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Update local state when node changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (node) {\n            setEditTitle(node.title);\n            setEditDescription(node.description);\n        }\n    }, [\n        node\n    ]);\n    // Notify edge redraw on hover change (node height change)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) {\n            window.dispatchEvent(new CustomEvent(\"toc-node-hover\", {\n                detail: {\n                    nodeId,\n                    hovered: isHovered\n                }\n            }));\n        }\n    }, [\n        isHovered,\n        nodeId\n    ]);\n    if (!node) {\n        return null; // Node not found\n    }\n    const { attributes, listeners, setNodeRef, transform, transition, isDragging: isSortableDragging } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__.useSortable)({\n        id: node.id,\n        data: {\n            type: \"node\",\n            nodeId: node.id,\n            listId: node.listId\n        },\n        disabled: !isDraggable // Only allow dragging when isDraggable is true\n    });\n    const style = {\n        transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_3__.CSS.Transform.toString(transform),\n        transition,\n        opacity: isDragging || isSortableDragging ? 0.8 : 1\n    };\n    const handleEdit = (e)=>{\n        e.preventDefault();\n        if (editTitle.trim()) {\n            updateNode(node.id, {\n                title: editTitle,\n                description: editDescription\n            });\n            setIsEditing(false);\n        }\n    };\n    const handleEditCancel = ()=>{\n        setEditTitle(node.title);\n        setEditDescription(node.description);\n        setIsEditing(false);\n    };\n    const handleClick = (e)=>{\n        e.stopPropagation();\n        if (linkMode) {\n            if (!isLinkSource) {\n                setLinkSource(node.id);\n            } else {\n                // Complete the link\n                addEdge(isLinkSource, node.id);\n                setLinkSource(null);\n                setLinkMode(false);\n            }\n        } else {\n            // Show context menu on click\n            setContextMenuPosition({\n                x: e.clientX,\n                y: e.clientY\n            });\n            setShowContextMenu(true);\n        }\n    };\n    const handleContextMenuClose = ()=>{\n        setShowContextMenu(false);\n    };\n    const handleMoveNode = ()=>{\n        setShowContextMenu(false);\n        toggleNodeDraggable(node.id, true);\n    };\n    const handleStartLinking = ()=>{\n        setShowContextMenu(false);\n        setLinkMode(true);\n        setLinkSource(node.id);\n    };\n    const handleEditFromContext = ()=>{\n        setShowContextMenu(false);\n        setShowEditDialog(true);\n    };\n    const handleDuplicateFromContext = ()=>{\n        setShowContextMenu(false);\n        duplicateNode(node.id);\n    };\n    const handleShowCausalPathFromContext = ()=>{\n        setShowContextMenu(false);\n    // This would need to be handled by the parent or through Redux\n    // onShowCausalPath(node.id);\n    };\n    const handleExitCausalPathModeFromContext = ()=>{\n        setShowContextMenu(false);\n    // This would need to be handled by the parent or through Redux\n    // onExitCausalPathMode();\n    };\n    const handleDeleteFromContext = ()=>{\n        setShowContextMenu(false);\n        if (confirm(\"Delete this node?\")) {\n            deleteNode(node.id);\n        }\n    };\n    const handleDoubleClick = (e)=>{\n        e.stopPropagation();\n        if (!linkMode) {\n            setIsEditing(true);\n        }\n    };\n    const isConnected = connectedNodes.length > 0;\n    const hexToRgb = (hex)=>{\n        if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(node.color)) {\n            // Convert hex to rgb\n            let c = node.color.substring(1);\n            if (c.length === 3) {\n                c = c[0] + c[0] + c[1] + c[1] + c[2] + c[2];\n            }\n            const rgb = [\n                parseInt(c.substring(0, 2), 16),\n                parseInt(c.substring(2, 4), 16),\n                parseInt(c.substring(4, 6), 16)\n            ];\n            return rgb;\n        }\n    };\n    const getNodeContainerStyle = ()=>{\n        let containerStyle = {\n            ...style,\n            ..._styles_TocNode_styles__WEBPACK_IMPORTED_MODULE_4__.tocNodeStyles.container,\n            cursor: isDraggable ? \"grab\" : \"pointer\"\n        };\n        if (isHovered) {\n            containerStyle = {\n                ...containerStyle,\n                ..._styles_TocNode_styles__WEBPACK_IMPORTED_MODULE_4__.tocNodeStyles.containerHover\n            };\n        }\n        if (linkMode) {\n            containerStyle = {\n                ...containerStyle,\n                ..._styles_TocNode_styles__WEBPACK_IMPORTED_MODULE_4__.tocNodeStyles.containerLinkMode\n            };\n            if (isHovered) {\n                containerStyle = {\n                    ...containerStyle,\n                    ..._styles_TocNode_styles__WEBPACK_IMPORTED_MODULE_4__.tocNodeStyles.containerLinkModeHover\n                };\n            }\n        }\n        if (isLinkSource) {\n            containerStyle = {\n                ...containerStyle,\n                ..._styles_TocNode_styles__WEBPACK_IMPORTED_MODULE_4__.tocNodeStyles.containerLinkSource\n            };\n        }\n        const rgb = hexToRgb(node.color) || [\n            245,\n            158,\n            11\n        ];\n        if (isConnected) {\n            containerStyle = {\n                ...containerStyle,\n                ..._styles_TocNode_styles__WEBPACK_IMPORTED_MODULE_4__.tocNodeStyles.containerConnected\n            };\n            if (node.color) {\n                containerStyle.borderColor = node.color;\n                // If color is hex, convert to rgba for opacity\n                if (rgb) {\n                    containerStyle.backgroundColor = \"rgba(\".concat(rgb[0], \",\").concat(rgb[1], \",\").concat(rgb[2], \",0.1)\"); // 10% opacity\n                } else {\n                    containerStyle.backgroundColor = node.color;\n                }\n            }\n        }\n        // Highlight the focal node in causal path mode\n        if (causalPathMode && isCausalPathFocalNode) {\n            containerStyle = {\n                ...containerStyle,\n                border: \"3px solid \".concat(node.color || \"#f59e0b\"),\n                boxShadow: \"0 0 20px rgba(\".concat(rgb[0], \",\").concat(rgb[1], \",\").concat(rgb[2], \",0.6)\"),\n                transform: containerStyle.transform || \"scale(1)\"\n            };\n        }\n        return containerStyle;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: setNodeRef,\n                style: getNodeContainerStyle(),\n                onClick: handleClick,\n                onContextMenu: handleClick,\n                onDoubleClick: handleDoubleClick,\n                onMouseEnter: ()=>setIsHovered(true),\n                onMouseLeave: ()=>setIsHovered(false),\n                \"data-node-id\": node.id,\n                ...attributes,\n                ...isDraggable ? listeners : {},\n                children: [\n                    isDraggable && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: _styles_TocNode_styles__WEBPACK_IMPORTED_MODULE_4__.tocNodeStyles.draggableIndicator\n                    }, void 0, false, {\n                        fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocNodeRedux.js\",\n                        lineNumber: 270,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: _styles_TocNode_styles__WEBPACK_IMPORTED_MODULE_4__.tocNodeStyles.content,\n                        children: isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TocNodeEditForm__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            editTitle: editTitle,\n                            setEditTitle: setEditTitle,\n                            editDescription: editDescription,\n                            setEditDescription: setEditDescription,\n                            onSubmit: handleEdit,\n                            onCancel: handleEditCancel,\n                            hoveredButton: hoveredButton,\n                            setHoveredButton: setHoveredButton\n                        }, void 0, false, {\n                            fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocNodeRedux.js\",\n                            lineNumber: 275,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TocNodeContent__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    node: node,\n                                    showDetails: showDetails,\n                                    setShowDetails: setShowDetails,\n                                    onEdit: ()=>setIsEditing(true),\n                                    onDuplicate: duplicateNode,\n                                    onDelete: deleteNode,\n                                    onShowConnectionDetails: ()=>setShowDetails(!showDetails),\n                                    connectedNodes: connectedNodes || [],\n                                    linkMode: linkMode,\n                                    isLinkSource: isLinkSource,\n                                    hoveredButton: hoveredButton,\n                                    setHoveredButton: setHoveredButton\n                                }, void 0, false, {\n                                    fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocNodeRedux.js\",\n                                    lineNumber: 287,\n                                    columnNumber: 15\n                                }, this),\n                                (isHovered || causalPathMode && isCausalPathFocalNode) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TocNodeFooter__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                    onMoveNode: handleMoveNode,\n                                    onStartLinking: handleStartLinking,\n                                    onEdit: handleEditFromContext,\n                                    onDuplicate: handleDuplicateFromContext,\n                                    onShowCausalPath: handleShowCausalPathFromContext,\n                                    onExitCausalPathMode: handleExitCausalPathModeFromContext,\n                                    onDelete: handleDeleteFromContext,\n                                    hoveredButton: hoveredButton,\n                                    causalPathMode: causalPathMode,\n                                    isCausalPathFocalNode: isCausalPathFocalNode,\n                                    setHoveredButton: setHoveredButton\n                                }, void 0, false, {\n                                    fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocNodeRedux.js\",\n                                    lineNumber: 302,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocNodeRedux.js\",\n                        lineNumber: 273,\n                        columnNumber: 9\n                    }, this),\n                    linkMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            position: \"absolute\",\n                            top: 0,\n                            left: 0,\n                            right: 0,\n                            bottom: 0,\n                            backgroundColor: \"rgba(16, 185, 129, 0.1)\",\n                            border: \"2px dashed \".concat(isLinkSource ? \"orange\" : \"#10b981\"),\n                            borderRadius: \"0.5rem\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            fontSize: \"0.75rem\",\n                            fontWeight: \"600\",\n                            color: \"#065f46\",\n                            pointerEvents: \"none\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocNodeRedux.js\",\n                        lineNumber: 321,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocNodeRedux.js\",\n                lineNumber: 256,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TocNodeEditDialog__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                isOpen: showEditDialog,\n                onClose: ()=>setShowEditDialog(false),\n                onSave: updateNode,\n                node: node,\n                allNodes: allNodes,\n                board: board,\n                onAddEdge: addEdge,\n                onDeleteEdge: deleteEdge\n            }, void 0, false, {\n                fileName: \"/Users/karimouba/Desktop/dev/toc-builder/web/src/app/components/TocNodeRedux.js\",\n                lineNumber: 342,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s(TocNodeRedux, \"G7kfDwCYJTydstMsC1wNAcqMRE0=\", false, function() {\n    return [\n        react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector,\n        _hooks_useReduxBoard__WEBPACK_IMPORTED_MODULE_11__.useReduxBoard,\n        _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__.useSortable\n    ];\n});\n_c = TocNodeRedux;\nvar _c;\n$RefreshReg$(_c, \"TocNodeRedux\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = __webpack_module__.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                __webpack_module__.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                __webpack_module__.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        __webpack_module__.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    __webpack_module__.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvY29tcG9uZW50cy9Ub2NOb2RlUmVkdXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFZ0U7QUFDaEI7QUFDUDtBQUNDO0FBQ2U7QUFDTTtBQUNmO0FBQ0Y7QUFDUTtBQUNGO0FBQ1I7QUFDVztBQVFaO0FBRTVCLFNBQVNxQixhQUFhLEtBQThCO1FBQTlCLEVBQUVDLE1BQU0sRUFBRUMsYUFBYSxLQUFLLEVBQUUsR0FBOUI7O0lBQ25DLGtDQUFrQztJQUNsQyxNQUFNQyxPQUFPbEIseURBQVdBLENBQUNtQixDQUFBQSxRQUFTVixnRkFBY0EsQ0FBQ1UsT0FBT0g7SUFDeEQsTUFBTUksV0FBV3BCLHlEQUFXQSxDQUFDbUIsQ0FBQUEsUUFBU0EsTUFBTUUsS0FBSyxDQUFDRCxRQUFRO0lBQzFELE1BQU1FLGVBQWV0Qix5REFBV0EsQ0FBQ21CLENBQUFBLFFBQVNOLHdGQUFzQkEsQ0FBQ00sT0FBT0g7SUFDeEUsTUFBTU8saUJBQWlCdkIseURBQVdBLENBQUNtQixDQUFBQSxRQUFTTCxzRkFBb0JBLENBQUNLLE9BQU9IO0lBQ3hFLE1BQU1RLGNBQWN4Qix5REFBV0EsQ0FBQ21CLENBQUFBLFFBQVNULHVGQUFxQkEsQ0FBQ1MsT0FBT0g7SUFDdEUsTUFBTVMsaUJBQWlCekIseURBQVdBLENBQUNtQixDQUFBQSxRQUFTQSxNQUFNRSxLQUFLLENBQUNJLGNBQWM7SUFDdEUsTUFBTUMsaUJBQWlCMUIseURBQVdBLENBQUNtQixDQUFBQSxRQUFTUiwwRkFBd0JBLENBQUNRLE9BQU9IO0lBQzVFLE1BQU1XLHdCQUF3QjNCLHlEQUFXQSxDQUFDbUIsQ0FBQUEsUUFBU1AsNkZBQTJCQSxDQUFDTyxPQUFPSDtJQUN0RixNQUFNWSxXQUFXNUIseURBQVdBLENBQUNtQixDQUFBQTtZQUFTQTtlQUFBQSxFQUFBQSxxQkFBQUEsTUFBTUUsS0FBSyxDQUFDQSxLQUFLLGNBQWpCRix5Q0FBQUEsbUJBQW1CVSxL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Qyw4REFBQ3NHO3dCQUFJOUMsT0FBTzs0QkFDVmtFLFVBQVU7NEJBQ1ZDLEtBQUs7NEJBQ0xDLE1BQU07NEJBQ05DLE9BQU87NEJBQ1BDLFFBQVE7NEJBQ1IzQixpQkFBaUI7NEJBQ2pCQyxRQUFRLGNBQWtELE9BQXBDbEcsZUFBZSxXQUFXOzRCQUNoRDZILGNBQWM7NEJBQ2RDLFNBQVM7NEJBQ1RDLFlBQVk7NEJBQ1pDLGdCQUFnQjs0QkFDaEJDLFVBQVU7NEJBQ1ZDLFlBQVk7NEJBQ1poRCxPQUFPOzRCQUNQaUQsZUFBZTt3QkFDakI7Ozs7Ozs7Ozs7OzswQkFLSiw4REFBQ25KLDBEQUFpQkE7Z0JBQ2hCb0osUUFBUWhHO2dCQUNSaUcsU0FBUyxJQUFNaEcsa0JBQWtCO2dCQUNqQ2lHLFFBQVE5SDtnQkFDUlosTUFBTUE7Z0JBQ05VLFVBQVVBO2dCQUNWUCxPQUFPQTtnQkFDUHdJLFdBQVc1SDtnQkFDWDZILGNBQWM1SDs7Ozs7Ozs7QUFJdEI7R0ExVXdCbkI7O1FBRVRmLHFEQUFXQTtRQUNQQSxxREFBV0E7UUFDUEEscURBQVdBO1FBQ1RBLHFEQUFXQTtRQUNkQSxxREFBV0E7UUFDUkEscURBQVdBO1FBQ1hBLHFEQUFXQTtRQUNKQSxxREFBV0E7UUFDeEJBLHFEQUFXQTtRQUNkQSxxREFBV0E7UUFZckJRLGdFQUFhQTtRQXNDYlYsMERBQVdBOzs7S0E3RE9pQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwL2NvbXBvbmVudHMvVG9jTm9kZVJlZHV4LmpzPzExNTkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTb3J0YWJsZSB9IGZyb20gJ0BkbmQta2l0L3NvcnRhYmxlJztcbmltcG9ydCB7IENTUyB9IGZyb20gJ0BkbmQta2l0L3V0aWxpdGllcyc7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHRvY05vZGVTdHlsZXMgfSBmcm9tICcuLi9zdHlsZXMvVG9jTm9kZS5zdHlsZXMnO1xuaW1wb3J0IHsgdG9jVG9vbGJhclN0eWxlcyB9IGZyb20gJy4uL3N0eWxlcy9Ub2NUb29sYmFyLnN0eWxlcyc7XG5pbXBvcnQgVG9jTm9kZUVkaXRGb3JtIGZyb20gJy4vVG9jTm9kZUVkaXRGb3JtJztcbmltcG9ydCBUb2NOb2RlQ29udGVudCBmcm9tICcuL1RvY05vZGVDb250ZW50JztcbmltcG9ydCBUb2NOb2RlQ29udGV4dE1lbnUgZnJvbSAnLi9Ub2NOb2RlQ29udGV4dE1lbnUnO1xuaW1wb3J0IFRvY05vZGVFZGl0RGlhbG9nIGZyb20gJy4vVG9jTm9kZUVkaXREaWFsb2cnO1xuaW1wb3J0IFRvY05vZGVGb290ZXIgZnJvbSAnLi9Ub2NOb2RlRm9vdGVyJztcbmltcG9ydCB7IHVzZVJlZHV4Qm9hcmQgfSBmcm9tICcuLi9ob29rcy91c2VSZWR1eEJvYXJkJztcbmltcG9ydCB7IFxuICBzZWxlY3ROb2RlQnlJZCwgXG4gIHNlbGVjdElzTm9kZURyYWdnYWJsZSwgXG4gIHNlbGVjdElzTm9kZUluQ2F1c2FsUGF0aCwgXG4gIHNlbGVjdElzTm9kZUNhdXNhbFBhdGhGb2NhbCwgXG4gIHNlbGVjdElzTm9kZUxpbmtTb3VyY2UsXG4gIHNlbGVjdENvbm5lY3RlZE5vZGVzIFxufSBmcm9tICcuLi9zdG9yZS9zZWxlY3RvcnMvYm9hcmRTZWxlY3RvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb2NOb2RlUmVkdXgoeyBub2RlSWQsIGlzRHJhZ2dpbmcgPSBmYWxzZSB9KSB7XG4gIC8vIFVzZSBSZWR1eCBzZWxlY3RvcnMgdG8gZ2V0IGRhdGFcbiAgY29uc3Qgbm9kZSA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHNlbGVjdE5vZGVCeUlkKHN0YXRlLCBub2RlSWQpKTtcbiAgY29uc3QgbGlua01vZGUgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5ib2FyZC5saW5rTW9kZSk7XG4gIGNvbnN0IGlzTGlua1NvdXJjZSA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHNlbGVjdElzTm9kZUxpbmtTb3VyY2Uoc3RhdGUsIG5vZGVJZCkpO1xuICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHNlbGVjdENvbm5lY3RlZE5vZGVzKHN0YXRlLCBub2RlSWQpKTtcbiAgY29uc3QgaXNEcmFnZ2FibGUgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzZWxlY3RJc05vZGVEcmFnZ2FibGUoc3RhdGUsIG5vZGVJZCkpO1xuICBjb25zdCBjYXVzYWxQYXRoTW9kZSA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLmJvYXJkLmNhdXNhbFBhdGhNb2RlKTtcbiAgY29uc3QgaXNJbkNhdXNhbFBhdGggPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzZWxlY3RJc05vZGVJbkNhdXNhbFBhdGgoc3RhdGUsIG5vZGVJZCkpO1xuICBjb25zdCBpc0NhdXNhbFBhdGhGb2NhbE5vZGUgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzZWxlY3RJc05vZGVDYXVzYWxQYXRoRm9jYWwoc3RhdGUsIG5vZGVJZCkpO1xuICBjb25zdCBhbGxOb2RlcyA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLmJvYXJkLmJvYXJkPy5ub2RlcyB8fCBbXSk7XG4gIGNvbnN0IGJvYXJkID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuYm9hcmQuYm9hcmQpO1xuXG4gIC8vIFVzZSBSZWR1eCBvcGVyYXRpb25zXG4gIGNvbnN0IHtcbiAgICB1cGRhdGVOb2RlLFxuICAgIGRlbGV0ZU5vZGUsXG4gICAgZHVwbGljYXRlTm9kZSxcbiAgICBhZGRFZGdlLFxuICAgIGRlbGV0ZUVkZ2UsXG4gICAgdG9nZ2xlTm9kZURyYWdnYWJsZSxcbiAgICBzZXRMaW5rTW9kZSxcbiAgICBzZXRMaW5rU291cmNlXG4gIH0gPSB1c2VSZWR1eEJvYXJkKCk7XG5cbiAgY29uc3QgW2hvdmVyZWRCdXR0b24sIHNldEhvdmVyZWRCdXR0b25dID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtpc0VkaXRpbmcsIHNldElzRWRpdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0VGl0bGUsIHNldEVkaXRUaXRsZV0gPSB1c2VTdGF0ZShub2RlPy50aXRsZSB8fCAnJyk7XG4gIGNvbnN0IFtlZGl0RGVzY3JpcHRpb24sIHNldEVkaXREZXNjcmlwdGlvbl0gPSB1c2VTdGF0ZShub2RlPy5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gIGNvbnN0IFtzaG93RGV0YWlscywgc2V0U2hvd0RldGFpbHNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNIb3ZlcmVkLCBzZXRJc0hvdmVyZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0NvbnRleHRNZW51LCBzZXRTaG93Q29udGV4dE1lbnVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29udGV4dE1lbnVQb3NpdGlvbiwgc2V0Q29udGV4dE1lbnVQb3NpdGlvbl0gPSB1c2VTdGF0ZSh7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IFtzaG93RWRpdERpYWxvZywgc2V0U2hvd0VkaXREaWFsb2ddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZSB3aGVuIG5vZGUgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChub2RlKSB7XG4gICAgICBzZXRFZGl0VGl0bGUobm9kZS50aXRsZSk7XG4gICAgICBzZXRFZGl0RGVzY3JpcHRpb24obm9kZS5kZXNjcmlwdGlvbik7XG4gICAgfVxuICB9LCBbbm9kZV0pO1xuXG4gIC8vIE5vdGlmeSBlZGdlIHJlZHJhdyBvbiBob3ZlciBjaGFuZ2UgKG5vZGUgaGVpZ2h0IGNoYW5nZSlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgndG9jLW5vZGUtaG92ZXInLCB7IGRldGFpbDogeyBub2RlSWQsIGhvdmVyZWQ6IGlzSG92ZXJlZCB9IH0pKTtcbiAgICB9XG4gIH0sIFtpc0hvdmVyZWQsIG5vZGVJZF0pO1xuXG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybiBudWxsOyAvLyBOb2RlIG5vdCBmb3VuZFxuICB9XG5cbiAgY29uc3Qge1xuICAgIGF0dHJpYnV0ZXMsXG4gICAgbGlzdGVuZXJzLFxuICAgIHNldE5vZGVSZWYsXG4gICAgdHJhbnNmb3JtLFxuICAgIHRyYW5zaXRpb24sXG4gICAgaXNEcmFnZ2luZzogaXNTb3J0YWJsZURyYWdnaW5nXG4gIH0gPSB1c2VTb3J0YWJsZSh7XG4gICAgaWQ6IG5vZGUuaWQsXG4gICAgZGF0YToge1xuICAgICAgdHlwZTogJ25vZGUnLFxuICAgICAgbm9kZUlkOiBub2RlLmlkLFxuICAgICAgbGlzdElkOiBub2RlLmxpc3RJZFxuICAgIH0sXG4gICAgZGlzYWJsZWQ6ICFpc0RyYWdnYWJsZSAvLyBPbmx5IGFsbG93IGRyYWdnaW5nIHdoZW4gaXNEcmFnZ2FibGUgaXMgdHJ1ZVxuICB9KTtcblxuICBjb25zdCBzdHlsZSA9IHtcbiAgICB0cmFuc2Zvcm06IENTUy5UcmFuc2Zvcm0udG9TdHJpbmcodHJhbnNmb3JtKSxcbiAgICB0cmFuc2l0aW9uLFxuICAgIG9wYWNpdHk6IGlzRHJhZ2dpbmcgfHwgaXNTb3J0YWJsZURyYWdnaW5nID8gMC44IDogMVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUVkaXQgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoZWRpdFRpdGxlLnRyaW0oKSkge1xuICAgICAgdXBkYXRlTm9kZShub2RlLmlkLCB7XG4gICAgICAgIHRpdGxlOiBlZGl0VGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlZGl0RGVzY3JpcHRpb25cbiAgICAgIH0pO1xuICAgICAgc2V0SXNFZGl0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRWRpdENhbmNlbCA9ICgpID0+IHtcbiAgICBzZXRFZGl0VGl0bGUobm9kZS50aXRsZSk7XG4gICAgc2V0RWRpdERlc2NyaXB0aW9uKG5vZGUuZGVzY3JpcHRpb24pO1xuICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKGxpbmtNb2RlKSB7XG4gICAgICBpZiAoIWlzTGlua1NvdXJjZSkge1xuICAgICAgICBzZXRMaW5rU291cmNlKG5vZGUuaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ29tcGxldGUgdGhlIGxpbmtcbiAgICAgICAgYWRkRWRnZShpc0xpbmtTb3VyY2UsIG5vZGUuaWQpO1xuICAgICAgICBzZXRMaW5rU291cmNlKG51bGwpO1xuICAgICAgICBzZXRMaW5rTW9kZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNob3cgY29udGV4dCBtZW51IG9uIGNsaWNrXG4gICAgICBzZXRDb250ZXh0TWVudVBvc2l0aW9uKHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfSk7XG4gICAgICBzZXRTaG93Q29udGV4dE1lbnUodHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvbnRleHRNZW51Q2xvc2UgPSAoKSA9PiB7XG4gICAgc2V0U2hvd0NvbnRleHRNZW51KGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVNb3ZlTm9kZSA9ICgpID0+IHtcbiAgICBzZXRTaG93Q29udGV4dE1lbnUoZmFsc2UpO1xuICAgIHRvZ2dsZU5vZGVEcmFnZ2FibGUobm9kZS5pZCwgdHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3RhcnRMaW5raW5nID0gKCkgPT4ge1xuICAgIHNldFNob3dDb250ZXh0TWVudShmYWxzZSk7XG4gICAgc2V0TGlua01vZGUodHJ1ZSk7XG4gICAgc2V0TGlua1NvdXJjZShub2RlLmlkKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVFZGl0RnJvbUNvbnRleHQgPSAoKSA9PiB7XG4gICAgc2V0U2hvd0NvbnRleHRNZW51KGZhbHNlKTtcbiAgICBzZXRTaG93RWRpdERpYWxvZyh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEdXBsaWNhdGVGcm9tQ29udGV4dCA9ICgpID0+IHtcbiAgICBzZXRTaG93Q29udGV4dE1lbnUoZmFsc2UpO1xuICAgIGR1cGxpY2F0ZU5vZGUobm9kZS5pZCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2hvd0NhdXNhbFBhdGhGcm9tQ29udGV4dCA9ICgpID0+IHtcbiAgICBzZXRTaG93Q29udGV4dE1lbnUoZmFsc2UpO1xuICAgIC8vIFRoaXMgd291bGQgbmVlZCB0byBiZSBoYW5kbGVkIGJ5IHRoZSBwYXJlbnQgb3IgdGhyb3VnaCBSZWR1eFxuICAgIC8vIG9uU2hvd0NhdXNhbFBhdGgobm9kZS5pZCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRXhpdENhdXNhbFBhdGhNb2RlRnJvbUNvbnRleHQgPSAoKSA9PiB7XG4gICAgc2V0U2hvd0NvbnRleHRNZW51KGZhbHNlKTtcbiAgICAvLyBUaGlzIHdvdWxkIG5lZWQgdG8gYmUgaGFuZGxlZCBieSB0aGUgcGFyZW50IG9yIHRocm91Z2ggUmVkdXhcbiAgICAvLyBvbkV4aXRDYXVzYWxQYXRoTW9kZSgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURlbGV0ZUZyb21Db250ZXh0ID0gKCkgPT4ge1xuICAgIHNldFNob3dDb250ZXh0TWVudShmYWxzZSk7XG4gICAgaWYgKGNvbmZpcm0oJ0RlbGV0ZSB0aGlzIG5vZGU/JykpIHtcbiAgICAgIGRlbGV0ZU5vZGUobm9kZS5pZCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURvdWJsZUNsaWNrID0gKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICghbGlua01vZGUpIHtcbiAgICAgIHNldElzRWRpdGluZyh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaXNDb25uZWN0ZWQgPSBjb25uZWN0ZWROb2Rlcy5sZW5ndGggPiAwO1xuXG4gIGNvbnN0IGhleFRvUmdiID0gKGhleCkgPT4ge1xuICAgIGlmICgvXiMoW0EtRmEtZjAtOV17M30pezEsMn0kLy50ZXN0KG5vZGUuY29sb3IpKSB7XG4gICAgICAvLyBDb252ZXJ0IGhleCB0byByZ2JcbiAgICAgIGxldCBjID0gbm9kZS5jb2xvci5zdWJzdHJpbmcoMSk7XG4gICAgICBpZiAoYy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgYyA9IGNbMF0rY1swXStjWzFdK2NbMV0rY1syXStjWzJdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmdiID0gW1xuICAgICAgICBwYXJzZUludChjLnN1YnN0cmluZygwLDIpLDE2KSxcbiAgICAgICAgcGFyc2VJbnQoYy5zdWJzdHJpbmcoMiw0KSwxNiksXG4gICAgICAgIHBhcnNlSW50KGMuc3Vic3RyaW5nKDQsNiksMTYpXG4gICAgICBdO1xuICAgICAgcmV0dXJuIHJnYjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0Tm9kZUNvbnRhaW5lclN0eWxlID0gKCkgPT4ge1xuICAgIGxldCBjb250YWluZXJTdHlsZSA9IHtcbiAgICAgIC4uLnN0eWxlLFxuICAgICAgLi4udG9jTm9kZVN0eWxlcy5jb250YWluZXIsXG4gICAgICBjdXJzb3I6IGlzRHJhZ2dhYmxlID8gJ2dyYWInIDogJ3BvaW50ZXInXG4gICAgfTtcblxuICAgIGlmIChpc0hvdmVyZWQpIHtcbiAgICAgIGNvbnRhaW5lclN0eWxlID0geyAuLi5jb250YWluZXJTdHlsZSwgLi4udG9jTm9kZVN0eWxlcy5jb250YWluZXJIb3ZlciB9O1xuICAgIH1cbiAgICBcbiAgICBpZiAobGlua01vZGUpIHtcbiAgICAgIGNvbnRhaW5lclN0eWxlID0geyAuLi5jb250YWluZXJTdHlsZSwgLi4udG9jTm9kZVN0eWxlcy5jb250YWluZXJMaW5rTW9kZSB9O1xuICAgICAgaWYgKGlzSG92ZXJlZCkge1xuICAgICAgICBjb250YWluZXJTdHlsZSA9IHsgLi4uY29udGFpbmVyU3R5bGUsIC4uLnRvY05vZGVTdHlsZXMuY29udGFpbmVyTGlua01vZGVIb3ZlciB9O1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoaXNMaW5rU291cmNlKSB7XG4gICAgICBjb250YWluZXJTdHlsZSA9IHsgLi4uY29udGFpbmVyU3R5bGUsIC4uLnRvY05vZGVTdHlsZXMuY29udGFpbmVyTGlua1NvdXJjZSB9O1xuICAgIH1cblxuICAgIGNvbnN0IHJnYiA9IGhleFRvUmdiKG5vZGUuY29sb3IpIHx8IFsyNDUsIDE1OCwgMTFdO1xuICAgIGlmIChpc0Nvbm5lY3RlZCkge1xuICAgICAgY29udGFpbmVyU3R5bGUgPSB7IC4uLmNvbnRhaW5lclN0eWxlLCAuLi50b2NOb2RlU3R5bGVzLmNvbnRhaW5lckNvbm5lY3RlZCB9O1xuICAgICAgaWYgKG5vZGUuY29sb3IpIHtcbiAgICAgICAgY29udGFpbmVyU3R5bGUuYm9yZGVyQ29sb3IgPSBub2RlLmNvbG9yO1xuICAgICAgICAvLyBJZiBjb2xvciBpcyBoZXgsIGNvbnZlcnQgdG8gcmdiYSBmb3Igb3BhY2l0eVxuICAgICAgICBpZiAocmdiKSB7XG4gICAgICAgICAgY29udGFpbmVyU3R5bGUuYmFja2dyb3VuZENvbG9yID0gYHJnYmEoJHtyZ2JbMF19LCR7cmdiWzFdfSwke3JnYlsyXX0sMC4xKWA7IC8vIDEwJSBvcGFjaXR5XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGFpbmVyU3R5bGUuYmFja2dyb3VuZENvbG9yID0gbm9kZS5jb2xvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhpZ2hsaWdodCB0aGUgZm9jYWwgbm9kZSBpbiBjYXVzYWwgcGF0aCBtb2RlXG4gICAgaWYgKGNhdXNhbFBhdGhNb2RlICYmIGlzQ2F1c2FsUGF0aEZvY2FsTm9kZSkge1xuICAgICAgY29udGFpbmVyU3R5bGUgPSB7IFxuICAgICAgICAuLi5jb250YWluZXJTdHlsZSwgXG4gICAgICAgIGJvcmRlcjogYDNweCBzb2xpZCAkeyBub2RlLmNvbG9yIHx8ICcjZjU5ZTBiJyB9YCxcbiAgICAgICAgYm94U2hhZG93OiBgMCAwIDIwcHggcmdiYSgke3JnYlswXX0sJHtyZ2JbMV19LCR7cmdiWzJdfSwwLjYpYCxcbiAgICAgICAgdHJhbnNmb3JtOiBjb250YWluZXJTdHlsZS50cmFuc2Zvcm0gfHwgJ3NjYWxlKDEpJyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRhaW5lclN0eWxlO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXtzZXROb2RlUmVmfVxuICAgICAgICBzdHlsZT17Z2V0Tm9kZUNvbnRhaW5lclN0eWxlKCl9XG4gICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfVxuICAgICAgICBvbkNvbnRleHRNZW51PXtoYW5kbGVDbGlja31cbiAgICAgICAgb25Eb3VibGVDbGljaz17aGFuZGxlRG91YmxlQ2xpY2t9XG4gICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4gc2V0SXNIb3ZlcmVkKHRydWUpfVxuICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHNldElzSG92ZXJlZChmYWxzZSl9XG4gICAgICAgIGRhdGEtbm9kZS1pZD17bm9kZS5pZH1cbiAgICAgICAgey4uLmF0dHJpYnV0ZXN9XG4gICAgICAgIHsuLi4oaXNEcmFnZ2FibGUgPyBsaXN0ZW5lcnMgOiB7fSl9XG4gICAgICA+XG4gICAgICAgIHsvKiBEcmFnZ2FibGUgaW5kaWNhdG9yICovfVxuICAgICAgICB7aXNEcmFnZ2FibGUgJiYgKFxuICAgICAgICAgIDxkaXYgc3R5bGU9e3RvY05vZGVTdHlsZXMuZHJhZ2dhYmxlSW5kaWNhdG9yfSAvPlxuICAgICAgICApfVxuXG4gICAgICAgIDxkaXYgc3R5bGU9e3RvY05vZGVTdHlsZXMuY29udGVudH0+XG4gICAgICAgICAge2lzRWRpdGluZyA/IChcbiAgICAgICAgICAgIDxUb2NOb2RlRWRpdEZvcm1cbiAgICAgICAgICAgICAgZWRpdFRpdGxlPXtlZGl0VGl0bGV9XG4gICAgICAgICAgICAgIHNldEVkaXRUaXRsZT17c2V0RWRpdFRpdGxlfVxuICAgICAgICAgICAgICBlZGl0RGVzY3JpcHRpb249e2VkaXREZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgc2V0RWRpdERlc2NyaXB0aW9uPXtzZXRFZGl0RGVzY3JpcHRpb259XG4gICAgICAgICAgICAgIG9uU3VibWl0PXtoYW5kbGVFZGl0fVxuICAgICAgICAgICAgICBvbkNhbmNlbD17aGFuZGxlRWRpdENhbmNlbH1cbiAgICAgICAgICAgICAgaG92ZXJlZEJ1dHRvbj17aG92ZXJlZEJ1dHRvbn1cbiAgICAgICAgICAgICAgc2V0SG92ZXJlZEJ1dHRvbj17c2V0SG92ZXJlZEJ1dHRvbn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxUb2NOb2RlQ29udGVudFxuICAgICAgICAgICAgICAgIG5vZGU9e25vZGV9XG4gICAgICAgICAgICAgICAgc2hvd0RldGFpbHM9e3Nob3dEZXRhaWxzfVxuICAgICAgICAgICAgICAgIHNldFNob3dEZXRhaWxzPXtzZXRTaG93RGV0YWlsc31cbiAgICAgICAgICAgICAgICBvbkVkaXQ9eygpID0+IHNldElzRWRpdGluZyh0cnVlKX1cbiAgICAgICAgICAgICAgICBvbkR1cGxpY2F0ZT17ZHVwbGljYXRlTm9kZX1cbiAgICAgICAgICAgICAgICBvbkRlbGV0ZT17ZGVsZXRlTm9kZX1cbiAgICAgICAgICAgICAgICBvblNob3dDb25uZWN0aW9uRGV0YWlscz17KCkgPT4gc2V0U2hvd0RldGFpbHMoIXNob3dEZXRhaWxzKX1cbiAgICAgICAgICAgICAgICBjb25uZWN0ZWROb2Rlcz17Y29ubmVjdGVkTm9kZXMgfHwgW119XG4gICAgICAgICAgICAgICAgbGlua01vZGU9e2xpbmtNb2RlfVxuICAgICAgICAgICAgICAgIGlzTGlua1NvdXJjZT17aXNMaW5rU291cmNlfVxuICAgICAgICAgICAgICAgIGhvdmVyZWRCdXR0b249e2hvdmVyZWRCdXR0b259XG4gICAgICAgICAgICAgICAgc2V0SG92ZXJlZEJ1dHRvbj17c2V0SG92ZXJlZEJ1dHRvbn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgeyhpc0hvdmVyZWQgfHwgKGNhdXNhbFBhdGhNb2RlICYmIGlzQ2F1c2FsUGF0aEZvY2FsTm9kZSkpICYmIChcbiAgICAgICAgICAgICAgICA8VG9jTm9kZUZvb3RlclxuICAgICAgICAgICAgICAgICAgb25Nb3ZlTm9kZT17aGFuZGxlTW92ZU5vZGV9XG4gICAgICAgICAgICAgICAgICBvblN0YXJ0TGlua2luZz17aGFuZGxlU3RhcnRMaW5raW5nfVxuICAgICAgICAgICAgICAgICAgb25FZGl0PXtoYW5kbGVFZGl0RnJvbUNvbnRleHR9XG4gICAgICAgICAgICAgICAgICBvbkR1cGxpY2F0ZT17aGFuZGxlRHVwbGljYXRlRnJvbUNvbnRleHR9XG4gICAgICAgICAgICAgICAgICBvblNob3dDYXVzYWxQYXRoPXtoYW5kbGVTaG93Q2F1c2FsUGF0aEZyb21Db250ZXh0fVxuICAgICAgICAgICAgICAgICAgb25FeGl0Q2F1c2FsUGF0aE1vZGU9e2hhbmRsZUV4aXRDYXVzYWxQYXRoTW9kZUZyb21Db250ZXh0fVxuICAgICAgICAgICAgICAgICAgb25EZWxldGU9e2hhbmRsZURlbGV0ZUZyb21Db250ZXh0fVxuICAgICAgICAgICAgICAgICAgaG92ZXJlZEJ1dHRvbj17aG92ZXJlZEJ1dHRvbn1cbiAgICAgICAgICAgICAgICAgIGNhdXNhbFBhdGhNb2RlPXtjYXVzYWxQYXRoTW9kZX1cbiAgICAgICAgICAgICAgICAgIGlzQ2F1c2FsUGF0aEZvY2FsTm9kZT17aXNDYXVzYWxQYXRoRm9jYWxOb2RlfVxuICAgICAgICAgICAgICAgICAgc2V0SG92ZXJlZEJ1dHRvbj17c2V0SG92ZXJlZEJ1dHRvbn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge2xpbmtNb2RlICYmIChcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMTYsIDE4NSwgMTI5LCAwLjEpJyxcbiAgICAgICAgICAgIGJvcmRlcjogYDJweCBkYXNoZWQgJHtpc0xpbmtTb3VyY2UgPyAnb3JhbmdlJyA6ICcjMTBiOTgxJ31gLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMC41cmVtJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgZm9udFNpemU6ICcwLjc1cmVtJyxcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc2MDAnLFxuICAgICAgICAgICAgY29sb3I6ICcjMDY1ZjQ2JyxcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJ1xuICAgICAgICAgIH19PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxUb2NOb2RlRWRpdERpYWxvZ1xuICAgICAgICBpc09wZW49e3Nob3dFZGl0RGlhbG9nfVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93RWRpdERpYWxvZyhmYWxzZSl9XG4gICAgICAgIG9uU2F2ZT17dXBkYXRlTm9kZX1cbiAgICAgICAgbm9kZT17bm9kZX1cbiAgICAgICAgYWxsTm9kZXM9e2FsbE5vZGVzfVxuICAgICAgICBib2FyZD17Ym9hcmR9XG4gICAgICAgIG9uQWRkRWRnZT17YWRkRWRnZX1cbiAgICAgICAgb25EZWxldGVFZGdlPXtkZWxldGVFZGdlfVxuICAgICAgLz5cbiAgICA8Lz5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VTb3J0YWJsZSIsIkNTUyIsInVzZVNlbGVjdG9yIiwidG9jTm9kZVN0eWxlcyIsInRvY1Rvb2xiYXJTdHlsZXMiLCJUb2NOb2RlRWRpdEZvcm0iLCJUb2NOb2RlQ29udGVudCIsIlRvY05vZGVDb250ZXh0TWVudSIsIlRvY05vZGVFZGl0RGlhbG9nIiwiVG9jTm9kZUZvb3RlciIsInVzZVJlZHV4Qm9hcmQiLCJzZWxlY3ROb2RlQnlJZCIsInNlbGVjdElzTm9kZURyYWdnYWJsZSIsInNlbGVjdElzTm9kZUluQ2F1c2FsUGF0aCIsInNlbGVjdElzTm9kZUNhdXNhbFBhdGhGb2NhbCIsInNlbGVjdElzTm9kZUxpbmtTb3VyY2UiLCJzZWxlY3RDb25uZWN0ZWROb2RlcyIsIlRvY05vZGVSZWR1eCIsIm5vZGVJZCIsImlzRHJhZ2dpbmciLCJub2RlIiwic3RhdGUiLCJsaW5rTW9kZSIsImJvYXJkIiwiaXNMaW5rU291cmNlIiwiY29ubmVjdGVkTm9kZXMiLCJpc0RyYWdnYWJsZSIsImNhdXNhbFBhdGhNb2RlIiwiaXNJbkNhdXNhbFBhdGgiLCJpc0NhdXNhbFBhdGhGb2NhbE5vZGUiLCJhbGxOb2RlcyIsIm5vZGVzIiwidXBkYXRlTm9kZSIsImRlbGV0ZU5vZGUiLCJkdXBsaWNhdGVOb2RlIiwiYWRkRWRnZSIsImRlbGV0ZUVkZ2UiLCJ0b2dnbGVOb2RlRHJhZ2dhYmxlIiwic2V0TGlua01vZGUiLCJzZXRMaW5rU291cmNlIiwiaG92ZXJlZEJ1dHRvbiIsInNldEhvdmVyZWRCdXR0b24iLCJpc0VkaXRpbmciLCJzZXRJc0VkaXRpbmciLCJlZGl0VGl0bGUiLCJzZXRFZGl0VGl0bGUiLCJ0aXRsZSIsImVkaXREZXNjcmlwdGlvbiIsInNldEVkaXREZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwic2hvd0RldGFpbHMiLCJzZXRTaG93RGV0YWlscyIsImlzSG92ZXJlZCIsInNldElzSG92ZXJlZCIsInNob3dDb250ZXh0TWVudSIsInNldFNob3dDb250ZXh0TWVudSIsImNvbnRleHRNZW51UG9zaXRpb24iLCJzZXRDb250ZXh0TWVudVBvc2l0aW9uIiwieCIsInkiLCJzaG93RWRpdERpYWxvZyIsInNldFNob3dFZGl0RGlhbG9nIiwid2luZG93IiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiaG92ZXJlZCIsImF0dHJpYnV0ZXMiLCJsaXN0ZW5lcnMiLCJzZXROb2RlUmVmIiwidHJhbnNmb3JtIiwidHJhbnNpdGlvbiIsImlzU29ydGFibGVEcmFnZ2luZyIsImlkIiwiZGF0YSIsInR5cGUiLCJsaXN0SWQiLCJkaXNhYmxlZCIsInN0eWxlIiwiVHJhbnNmb3JtIiwidG9TdHJpbmciLCJvcGFjaXR5IiwiaGFuZGxlRWRpdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRyaW0iLCJoYW5kbGVFZGl0Q2FuY2VsIiwiaGFuZGxlQ2xpY2siLCJzdG9wUHJvcGFnYXRpb24iLCJjbGllbnRYIiwiY2xpZW50WSIsImhhbmRsZUNvbnRleHRNZW51Q2xvc2UiLCJoYW5kbGVNb3ZlTm9kZSIsImhhbmRsZVN0YXJ0TGlua2luZyIsImhhbmRsZUVkaXRGcm9tQ29udGV4dCIsImhhbmRsZUR1cGxpY2F0ZUZyb21Db250ZXh0IiwiaGFuZGxlU2hvd0NhdXNhbFBhdGhGcm9tQ29udGV4dCIsImhhbmRsZUV4aXRDYXVzYWxQYXRoTW9kZUZyb21Db250ZXh0IiwiaGFuZGxlRGVsZXRlRnJvbUNvbnRleHQiLCJjb25maXJtIiwiaGFuZGxlRG91YmxlQ2xpY2siLCJpc0Nvbm5lY3RlZCIsImxlbmd0aCIsImhleFRvUmdiIiwiaGV4IiwidGVzdCIsImNvbG9yIiwiYyIsInN1YnN0cmluZyIsInJnYiIsInBhcnNlSW50IiwiZ2V0Tm9kZUNvbnRhaW5lclN0eWxlIiwiY29udGFpbmVyU3R5bGUiLCJjb250YWluZXIiLCJjdXJzb3IiLCJjb250YWluZXJIb3ZlciIsImNvbnRhaW5lckxpbmtNb2RlIiwiY29udGFpbmVyTGlua01vZGVIb3ZlciIsImNvbnRhaW5lckxpbmtTb3VyY2UiLCJjb250YWluZXJDb25uZWN0ZWQiLCJib3JkZXJDb2xvciIsImJhY2tncm91bmRDb2xvciIsImJvcmRlciIsImJveFNoYWRvdyIsImRpdiIsInJlZiIsIm9uQ2xpY2siLCJvbkNvbnRleHRNZW51Iiwib25Eb3VibGVDbGljayIsIm9uTW91c2VFbnRlciIsIm9uTW91c2VMZWF2ZSIsImRhdGEtbm9kZS1pZCIsImRyYWdnYWJsZUluZGljYXRvciIsImNvbnRlbnQiLCJvblN1Ym1pdCIsIm9uQ2FuY2VsIiwib25FZGl0Iiwib25EdXBsaWNhdGUiLCJvbkRlbGV0ZSIsIm9uU2hvd0Nvbm5lY3Rpb25EZXRhaWxzIiwib25Nb3ZlTm9kZSIsIm9uU3RhcnRMaW5raW5nIiwib25TaG93Q2F1c2FsUGF0aCIsIm9uRXhpdENhdXNhbFBhdGhNb2RlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJib3JkZXJSYWRpdXMiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwicG9pbnRlckV2ZW50cyIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvblNhdmUiLCJvbkFkZEVkZ2UiLCJvbkRlbGV0ZUVkZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/components/TocNodeRedux.js\n"));

/***/ })

});